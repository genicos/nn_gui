var app=function(){"use strict";function t(){}function e(t){return t()}function o(){return Object.create(null)}function n(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,l;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function u(t,e,o,n){return t[1]&&n?function(t,e){for(const o in e)t[o]=e[o];return t}(o.ctx.slice(),t[1](n(e))):o.ctx}function c(t){return null==t?"":t}function p(t,e){t.appendChild(e)}function f(t,e,o){t.insertBefore(e,o||null)}function h(t){t.parentNode.removeChild(t)}function d(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function m(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function g(){return x(" ")}function v(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function _(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,o){null==o?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function w(t,e,o,n){null===o?t.style.removeProperty(e):t.style.setProperty(e,o,n?"important":"")}function M(t,e){for(let o=0;o<t.options.length;o+=1){const n=t.options[o];if(n.__value===e)return void(n.selected=!0)}t.selectedIndex=-1}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function T(t,e,o){t.classList[o?"add":"remove"](e)}function P(t){l=t}function S(){if(!l)throw new Error("Function called outside component initialization");return l}const L=[],E=[],I=[],z=[],A=Promise.resolve();let R=!1;function F(t){I.push(t)}const O=new Set;let D=0;function U(){const t=l;do{for(;D<L.length;){const t=L[D];D++,P(t),N(t.$$)}for(P(null),L.length=0,D=0;E.length;)E.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];O.has(e)||(O.add(e),e())}I.length=0}while(L.length);for(;z.length;)z.pop()();R=!1,O.clear(),P(t)}function N(t){if(null!==t.fragment){t.update(),n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const G=new Set;let B;function W(t,e){t&&t.i&&(G.delete(t),t.i(e))}function q(t,e,o,n){if(t&&t.o){if(G.has(t))return;G.add(t),undefined.c.push((()=>{G.delete(t),n&&(o&&t.d(1),n())})),t.o(e)}}function X(t){t&&t.c()}function H(t,o,r,i){const{fragment:l,on_mount:a,on_destroy:u,after_update:c}=t.$$;l&&l.m(o,r),i||F((()=>{const o=a.map(e).filter(s);u?u.push(...o):n(o),t.$$.on_mount=[]})),c.forEach(F)}function Y(t,e){const o=t.$$;null!==o.fragment&&(n(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(L.push(t),R||(R=!0,A.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,s,r,i,a,u,c,p=[-1]){const f=l;P(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:o(),dirty:p,skip_bound:!1,root:s.target||f.$$.root};c&&c(d.root);let m=!1;if(d.ctx=r?r(e,s.props||{},((t,o,...n)=>{const s=n.length?n[0]:o;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&j(e,t)),o})):[],d.update(),m=!0,n(d.before_update),d.fragment=!!i&&i(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();s.intro&&W(e.$$.fragment),H(e,s.target,s.anchor,s.customElement),U()}P(f)}class K{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(t){let e,o,s,r,i,l,a,c,d,x,_;const $=t[5].default,k=function(t,e,o,n){if(t){const s=u(t,e,o,n);return t[0](s)}}($,t,t[4],null);return{c(){e=m("div"),o=m("div"),s=y("svg"),r=y("circle"),i=y("line"),l=y("line"),a=g(),c=m("div"),k&&k.c(),b(r,"cx","6"),b(r,"cy","6"),b(r,"r","6"),b(i,"x1","3"),b(i,"y1","3"),b(i,"x2","9"),b(i,"y2","9"),b(i,"class","svelte-16fw4pf"),b(l,"x1","9"),b(l,"y1","3"),b(l,"x2","3"),b(l,"y2","9"),b(l,"class","svelte-16fw4pf"),b(s,"id","close"),b(s,"viewBox","0 0 12 12"),b(s,"class","svelte-16fw4pf"),b(c,"id","modal-content"),b(c,"class","svelte-16fw4pf"),b(o,"id","modal"),b(o,"class","svelte-16fw4pf"),b(e,"id","topModal"),b(e,"class","svelte-16fw4pf"),T(e,"visible",t[1])},m(n,u){var h;f(n,e,u),p(e,o),p(o,s),p(s,r),p(s,i),p(s,l),p(o,a),p(o,c),k&&k.m(c,null),t[7](e),d=!0,x||(_=[v(s,"click",t[6]),v(o,"click",(h=tt,function(t){return t.stopPropagation(),h.call(this,t)})),v(e,"click",t[8])],x=!0)},p(t,[o]){k&&k.p&&(!d||16&o)&&function(t,e,o,n,s,r){if(s){const i=u(e,o,n,r);t.p(i,s)}}(k,$,t,t[4],d?function(t,e,o,n){if(t[2]&&n){const s=t[2](n(o));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],o=Math.max(e.dirty.length,s.length);for(let n=0;n<o;n+=1)t[n]=e.dirty[n]|s[n];return t}return e.dirty|s}return e.dirty}($,t[4],o,null):function(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let t=0;t<o;t++)e[t]=-1;return e}return-1}(t[4]),null),2&o&&T(e,"visible",t[1])},i(t){d||(W(k,t),d=!0)},o(t){q(k,t),d=!1},d(o){o&&h(e),k&&k.d(o),t[7](null),x=!1,n(_)}}}const V={};function Z(t=""){return V[t]}const tt=()=>{};function et(t,e,o){let n,s,r,{$$slots:i={},$$scope:l}=e,a=!1,{id:u=""}=e;function c(t){"Escape"==t.key&&B==n&&p()}function p(t){a&&(window.removeEventListener("keydown",c),B=s,null==B&&(document.body.style.overflow=""),o(1,a=!1),r&&r(t))}var f;V[u]={open:function(t){r=t,a||(s=B,B=n,window.addEventListener("keydown",c),document.body.style.overflow="hidden",o(1,a=!0),document.body.appendChild(n))},close:p},f=()=>{delete V[u],window.removeEventListener("keydown",c)},S().$$.on_destroy.push(f);return t.$$set=t=>{"id"in t&&o(3,u=t.id),"$$scope"in t&&o(4,l=t.$$scope)},[n,a,p,u,l,i,()=>p(),function(t){E[t?"unshift":"push"]((()=>{n=t,o(0,n)}))},()=>p()]}class ot extends K{constructor(t){super(),J(this,t,et,Q,r,{id:3})}}class nt{constructor(){this.tensors=[],this.operators=[],this.input_tensors=[],this.param_tensors=[],this.output_tensors=[],this.truth_tensors=[],this.loss=null}add_tensor(t){return this.tensors.push(t),this.tensors.length-1}add_operator(t){var e=t.clone();this.operators.push(e);for(let t=0;t<e.inputs.length;t++)this.tensors[e.inputs[t]].input_to.push(this.operators.length-1);for(let t=0;t<e.outputs.length;t++)this.tensors[e.outputs[t]].output_of=this.operators.length-1;return this.operators.length-1}update_tensors(){for(let t=0;t<this.tensors.length;t++)this.tensors[t].input_to=[],this.tensors[t].output_of=null;for(let t=0;t<this.operators.length;t++){for(let e=0;e<this.operators[t].inputs.length;e++)this.tensors[this.operators[t].inputs[e]].input_to.push(t);for(let e=0;e<this.operators[t].outputs.length;e++)this.tensors[this.operators[t].outputs[e]].output_of=t}}expand(){for(let l=0;l<this.operators.length;l++)if(0==this.operators[l].func&&this.operators[l].network){var t=this.operators[l].network;t.expand();var e=this.operators[l],o=this.operators.length;this.operators[l]=t.operators[0];for(let e=1;e<t.operators.length;e++)this.add_operator(t.operators[e]);for(let a=0;a<t.tensors.length;a++){var n=a;if(t.input_tensors.includes(a)){var s=t.input_tensors.indexOf(a);n=e.inputs[s]}else if(t.output_tensors.includes(a)){s=t.output_tensors.indexOf(a);n=e.outputs[s]}else this.add_tensor(t.tensors[a]),n=this.tensors.length-1;for(let e=0;e<t.tensors[a].input_to.length;e++){var r=t.tensors[a].input_to[e],i=t.operators[r].inputs.indexOf(a);0==r?this.operators[l].inputs[i]=n:this.operators[r+o-1].inputs[i]=n}if(t.tensors[a].output_of||0==t.tensors[a].output_of){r=t.tensors[a].output_of,i=t.operators[r].outputs.indexOf(a);0==r?this.operators[l].outputs[i]=n:this.operators[r+o-1].outputs[i]=n}}this.update_tensors()}}to_string(){var t="";t+="Tensors: \n";for(let e=0;e<this.tensors.length;e++){t+="\t"+e+":\n",this.tensors[e].form&&(t+="\t\tform: "+String(this.tensors[e].form)+"\n"),t+="\t\tinput_to:\n";for(let o=0;o<this.tensors[e].input_to.length;o++)t+="\t\t\t"+this.tensors[e].input_to[o]+"\n";t+="\t\toutput_of\n",t+="\t\t\t"+this.tensors[e].output_of+"\n"}t+="Operators: \n";for(let e=0;e<this.operators.length;e++){t+="\t"+e+":\n",t+="\t\tinputs:\n";for(let o=0;o<this.operators[e].inputs.length;o++)t+="\t\t\t"+this.operators[e].inputs[o]+"\n";t+="\t\toutputs:\n";for(let o=0;o<this.operators[e].outputs.length;o++)t+="\t\t\t"+this.operators[e].outputs[o]+"\n";t+="\t\tfunc: "+this.operators[e].func+"\n"}t+="input_tensors:\n";for(let e=0;e<this.input_tensors.length;e++)t+="\t"+this.input_tensors[e]+"\n";t+="param_tensors:\n";for(let e=0;e<this.param_tensors.length;e++)t+="\t"+this.param_tensors[e]+"\n";t+="output_tensors:\n";for(let e=0;e<this.output_tensors.length;e++)t+="\t"+this.output_tensors[e]+"\n";return t}}class st{constructor(t,e){this.scalar=!1,this.live=t||!1,this.form=e||[],this.x=0,this.y=0,this.tx=0,this.ty=0,this.selected=!1,this.input_to=[],this.output_of=null}calc_size(){if(this.form){var t=1;for(let e=0;e<this.form.length;e++)t*=this.form[e];this.size=t}else this.size=0;return this.size}}class rt{constructor(t,e,o,n=!1){this.name=t,this.num_inputs=e,this.type=o,this.layer=n}calc_form(t,e){var o=[];switch(console.log(this.name),this.name){case"identity":case"add":case"subtract":case"scale":case"softmax":case"hardmax":case"ReLU":case"LeakyReLU":case"Leaky to ReLU":o.push(e.tensors[t[0]].form);break;case"full":var n=e.tensors[t[0]].form,s=e.tensors[t[1]].form,r=1;for(let t=0;t<n.length;t++)r*=n[t];var i=1;for(let t=0;t<s.length;t++)i*=s[t];(l=[]).push(i/r),o.push(l);break;case"amass":case"max":(l=[]).push(1),o.push(l);break;case"convolution":n=e.tensors[t[0]].form,s=e.tensors[t[1]].form;var l=[];for(let t=0;t<n.length;t++)s.length<=t?l.push(n[t]):l.push(n[t]-s[t]+1);o.push(l);break;case"squared dist":o.push([1])}return o}}class it{constructor(t){this.inputs=[],this.outputs=[],this.func=t,this.size=null,this.network=null,this.highlighted=!1}clone(){var t=new it(this.func);return t.inputs=[...this.inputs],t.outputs=[...this.outputs],t.network=this.network,t}}var lt=Array.apply(null,Array(12)).map((function(){}));lt[0]=new rt("abstraction",0,1),lt[1]=new rt("identity",1,0),lt[2]=new rt("add",2,1),lt[3]=new rt("subtract",2,1),lt[4]=new rt("scale",2,2),lt[5]=new rt("Fully Connected",2,2,!0),lt[6]=new rt("amass",1,0),lt[7]=new rt("Softmax",1,0),lt[8]=new rt("hardmax",1,0),lt[9]=new rt("max",1,0),lt[10]=new rt("Convolution",2,2,!0),lt[11]=new rt("squared dist",2,1),lt[12]=new rt("PReLU",1,0),lt[13]=new rt("LeakyReLU",1,0),lt[14]=new rt("Leaky to ReLU",1,0),lt[15]=new rt("MaxPool",1,0);const at=10;function ut(t,e,o){var n={x_min:-9999,x_max:1e4,y_min:-9999,y_max:1e4},s=t.operators[e],r=!1;for(let t=0;t<s.outputs.length;t++)s.outputs[t]==o&&(r=!0);var i=0;if(!r)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==o&&(i=t);var l=t.tensors[s.inputs[0]],a=t.tensors[s.inputs[1]],u=t.tensors[s.outputs[0]];if(0==lt[s.func].type&&(r?n.x_min=l.x+40:n.x_max=u.x-40),1==lt[s.func].type)if(r){var c=Math.max(l.x,a.x);n.x_min=c+40}else 1==i?(n.x_max=u.x-40,n.y_max=l.y-20):(n.x_max=u.x-40,n.y_min=a.y+20);if(2==lt[s.func].type)if(r)n.x_min=a.x+20,n.y_min=a.y+20;else if(1==i){n.x_min=l.x+20,n.x_max=u.x-20;var p=Math.min(u.y,l.y);n.y_max=p-20}else n.x_max=a.x-20,n.y_min=a.y+20;return n}function ct(t,e,o,n,s,r=!1){t.tensors[e].x=o,t.tensors[e].y=n,r&&(t.tensors[e].x-=(t.tensors[e].x+at)%20-at,t.tensors[e].y-=(t.tensors[e].y+at)%20-at);for(let o=0;o<t.tensors[e].input_to.length;o++){let n=ut(t,t.tensors[e].input_to[o],e);s.x_min=Math.max(s.x_min,n.x_min),s.x_max=Math.min(s.x_max,n.x_max),s.y_min=Math.max(s.y_min,n.y_min),s.y_max=Math.min(s.y_max,n.y_max)}if(null!=t.tensors[e].output_of){let o=ut(t,t.tensors[e].output_of,e);s.x_min=Math.max(s.x_min,o.x_min),s.x_max=Math.min(s.x_max,o.x_max),s.y_min=Math.max(s.y_min,o.y_min),s.y_max=Math.min(s.y_max,o.y_max)}t.tensors[e].x<s.x_min&&(t.tensors[e].x=s.x_min),t.tensors[e].x>s.x_max&&(t.tensors[e].x=s.x_max),t.tensors[e].y<s.y_min&&(t.tensors[e].y=s.y_min),t.tensors[e].y>s.y_max&&(t.tensors[e].y=s.y_max)}function pt(t,e,o){var n=[];for(let s=0;s<t.tensors.length;s++)t.tensors[s].x-at<e&&t.tensors[s].x+at>e&&t.tensors[s].y-at<o&&t.tensors[s].y+at>o&&n.push(s);return n}function ft(t,e,o){var n=[];for(let f=0;f<t.operators.length;f++){var s=t.operators[f],r=t.tensors[s.inputs[0]],i=t.tensors[s.inputs[1]],l=t.tensors[s.outputs[0]],a=1e6,u=-1e6,c=1e6,p=-1e6;s.func<0||(0==lt[s.func].type&&(a=r.x+at,u=l.x-at,c=Math.min(r.y-at,l.y-at),p=Math.max(r.y+at,l.y+at)),2==lt[s.func].type&&(a=r.x+at,u=l.x-at,c=i.y+at,p=Math.max(r.y+at,l.y+at)),1==lt[s.func].type&&(a=Math.min(r.x+at,i.x+at),u=l.x-at,c=i.y-at,p=r.y+at),a<e&&u>e&&c<o&&p>o&&n.push(f))}return n}function ht(t,e){var o=t.tensors[e],n=o.input_to;o.input_to=[];for(let a=0;a<n.length;a++){var s=n[a],r=t.operators[s],i=t.tensors.length;t.add_tensor(new st(!0));var l=r.inputs.findIndex((t=>t==e));r.inputs[l]=i,t.tensors[i].x=o.x+20,t.tensors[i].y=o.y,t.tensors[i].input_to=[s],t.tensors[i].output_of=null,t.tensors[i].live=!1}o.x-=20,o.live=!1}function dt(t,e,o){if(t.tensors[e].live&&t.tensors[o].live)return void console.log("Both merged tensors are live, so don't do anything.");var n=!1,s=!1;for(let s=0;s<t.output_tensors.length;s++)if(t.output_tensors[s]==e||t.output_tensors[s]==o){if(n)return void console.log("Cant merge two outputs");n=!0}for(let n=0;n<t.input_tensors.length;n++)if(t.input_tensors[n]==e||t.input_tensors[n]==o){if(s)return void console.log("Cant merge two inputs");s=!0}if(n&&s)return void console.log("Cant merge, one is an input and one is an output");n&&t.output_tensors.splice(0,1),s&&t.input_tensors.splice(0,1);let r=t.tensors[e],i=t.tensors[o],l=o,a=e;if(null!=r.output_of&&null==i.output_of);else if(null!=i.output_of&&null==r.output_of){var u=i;i=r,r=u,l=e,a=o}else if(null!=r.output_of||null!=i.output_of)return void console.log("Error merging, only one input must have an output");if(i.input_to.length>0&&r.output_of==i.input_to[0])console.log("Error merging, these are input and output of the same function");else{if(i.input_to.length>0){let e=t.operators[i.input_to[0]].inputs.indexOf(l);t.operators[i.input_to[0]].inputs[e]=a}r.input_to=i.input_to,r.live=r.live||i.live,t.tensors[a].selected=!0,n?t.output_tensors.push(a):s&&t.input_tensors.push(a),function(t,e){for(let o=0;o<t.operators.length;o++){for(let n=0;n<t.operators[o].inputs.length;n++)t.operators[o].inputs[n]>e&&(t.operators[o].inputs[n]-=1);for(let n=0;n<t.operators[o].outputs.length;n++)t.operators[o].outputs[n]>e&&(t.operators[o].outputs[n]-=1)}for(let o=0;o<t.input_tensors.length;o++)t.input_tensors[o]>e&&(t.input_tensors[o]-=1);for(let o=0;o<t.output_tensors.length;o++)t.output_tensors[o]>e&&(t.output_tensors[o]-=1);console.log("out",t.output_tensors),t.tensors.splice(e,1)}(t,l)}}var mt,yt,xt=0,gt=0;const vt=10;var _t=!1,bt=-1,$t=-1,kt=0,wt=0,Mt=0,Ct=0,Tt=[];Tt.push(new nt);var Pt=!1,St=!0,Lt=100,Et=100;class It{constructor(t){this.list_index=-1,this.y=t}}var zt=[],At=[];function Rt(){return Tt[0]}function Ft(t,e=140,o=60){jt();let n=new it;n.func=t;var s=Tt[0].tensors.length;0==lt[t].type&&(Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+0].x=e+0,Tt[0].tensors[s+0].y=o+0,n.inputs=[s+0],Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+1].x=e+60,Tt[0].tensors[s+1].y=o+0,n.outputs=[s+1]),2==lt[t].type&&(Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+0].x=e+0,Tt[0].tensors[s+0].y=o+40,Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+1].x=e+40,Tt[0].tensors[s+1].y=o+0,Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+2].x=e+80,Tt[0].tensors[s+2].y=o+40,n.inputs=[s+0,s+1],n.outputs=[s+2]),1==lt[t].type&&(Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+0].x=e+0,Tt[0].tensors[s+0].y=o+40,Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+1].x=e+0,Tt[0].tensors[s+1].y=o+0,Tt[0].add_tensor(new st(!1)),Tt[0].tensors[s+2].x=e+60,Tt[0].tensors[s+2].y=o+20,n.inputs=[s+0,s+1],n.outputs=[s+2]),Tt[0].add_operator(n)}CanvasRenderingContext2D.prototype.roundRect=function(t,e,o,n,s){return o<0&&(t-=o=-o),n<0&&(e-=n=-n),o<2*s&&(s=o/2),n<2*s&&(s=n/2),this.beginPath(),this.moveTo(t+s,e),this.arcTo(t+o,e,t+o,e+n,s),this.arcTo(t+o,e+n,t,e+n,s),this.arcTo(t,e+n,t,e,s),this.arcTo(t,e,t+o,e,s),this.closePath(),this};var Ot=[],Dt=new class{constructor(t,e,o,n,s=!1){this.x=t,this.y=e,this.w=o,this.h=n,this.bool=s}press(t,e){this.x<=t&&this.x+this.w>=t&&this.y<=e&&this.y+this.h>=e&&(this.bool=!this.bool)}}(110,10,20,20,!0);Ot.push(Dt);var Ut=new Image;function Nt(t,e,o,n){!function(t,e){var o=Tt[0].tensors[t];o.form=e,o.calc_size(),o.live=!0;for(let e=0;e<o.input_to.length;e++)Gt(o.input_to[e],t,!0);null!=o.output_of&&Gt(o.output_of,t,!1)}(e=o?Tt[0].operators[t].inputs[e]:Tt[0].operators[t].outputs[e],n)}function Gt(t,e,o){if(null!=t){var n=0,s=Tt[0].operators[t];if(o)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==e&&(n=t);else for(let t=0;t<s.outputs.length;t++)s.outputs[t]==e&&(n=t);var r,i=Tt[0].tensors[s.inputs[0]],l=Tt[0].tensors[s.outputs[0]];switch(s.inputs.length>1&&(r=Tt[0].tensors[s.inputs[1]]),s.func){case 5:if(o)if(0==n){if(l.live)r.form=[i.size,l.size],r.live=!0,r.calc_size(),Gt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}}else{i.form=[r.form[0]],i.live=!0,i.calc_size(),Gt(i.output_of,s.inputs[0],!1),l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}else i.live&&(r.form=[i.size,l.size],r.live=!0,r.calc_size(),Gt(r.output_of,s.inputs[1],!1));break;case 7:if(o){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Gt(i.output_of,s.inputs[0],!1);break;case 10:if(o){if(0==n){if(l.live)r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Gt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}}else if(l.live)i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Gt(r.output_of,s.inputs[1],!1);else if(i.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}}else i.live?(r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Gt(r.output_of,s.inputs[1],!1)):r.live&&(i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Gt(r.output_of,s.inputs[1],!1));break;case 12:if(o){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Gt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Gt(i.output_of,s.inputs[0],!1)}}}function Bt(){!function(t,e=null){null==e&&(e=Tt[0].add_tensor(new st(!1)),Tt[0].tensors[e].y=t,Tt[0].tensors[e].x=120,Tt[0].input_tensors.push(e));var o=new It(t);for(let t=0;t<Tt[0].input_tensors.length;t++)Tt[0].input_tensors[t]==e&&(o.list_index=t);zt.push(o)}(gt/2-gt/2%20),function(t,e=null){null==e&&(e=Tt[0].add_tensor(new st(!1)),Tt[0].tensors[e].y=t,Tt[0].tensors[e].x=xt-Et-20-(xt-Et-20)%20,Tt[0].output_tensors.push(e));var o=new It(t);for(let t=0;t<Tt[0].output_tensors.length;t++)Tt[0].output_tensors[t]==e&&(o.list_index=t);At.push(o)}(gt/2-gt/2%20)}function Wt(){(mt=document.getElementById("gui_canvas")).addEventListener("mousedown",Vt,!1),mt.addEventListener("mousemove",Zt,!1),mt.addEventListener("mouseup",Qt,!1),mt.addEventListener("dblclick",Kt,!1),yt=mt.getContext("2d"),mt.width=mt.getBoundingClientRect().width,mt.height=mt.getBoundingClientRect().height,xt=mt.width,gt=mt.height,Bt(),window.requestAnimationFrame(Yt)}function qt(t,e){let o=t.tensors[e];var n=!1,s=!1;for(let o=0;o<t.input_tensors.length;o++)t.input_tensors[o]==e&&(n=!0);for(let o=0;o<t.output_tensors.length;o++)t.output_tensors[o]==e&&(s=!0);o.live?(yt.fillStyle=n?"#F2C8A6":s?"#A6D0F2":"#FFFFFF",yt.lineWidth=1,yt.setLineDash([]),yt.strokeStyle="black"):(yt.fillStyle="rgba(255,255,255,0)",yt.lineWidth=1,yt.setLineDash([3,4]),yt.strokeStyle="Grey",yt.strokeStyle=n?"#F2C8A6":s?"#A6D0F2":"#888888"),yt.beginPath(),o.scalar?yt.rect(o.x-scalarTensorRadius,o.y-scalarTensorRadius,2*scalarTensorRadius,2*scalarTensorRadius):yt.rect(o.x-vt,o.y-vt,20,20),yt.fill(),yt.stroke(),o.selected&&(yt.fillStyle="rgba(255,255,255,0)",yt.lineWidth=1,yt.strokeStyle="#5dd2f0",yt.setLineDash([]),yt.beginPath(),yt.roundRect(o.x-15,o.y-15,30,30,2),yt.stroke())}function Xt(t,e,o,n,s,r,i,l,a,u){if(!(a<1)){var c=1/(a*u+(a-1)*(1-u));yt.beginPath(),yt.moveTo(t,e),yt.lineTo(s,r),yt.lineTo(s+(i-s)*(0*c+u*c),r+(l-r)*(0*c+u*c)),yt.lineTo(t+(o-t)*(0*c+u*c),e+(n-e)*(0*c+u*c));for(let p=1;p<a;p++)yt.lineTo(t+p*c*(o-t),e+p*c*(n-e)),yt.lineTo(s+p*c*(i-s),r+p*c*(l-r)),yt.lineTo(s+(i-s)*(p*c+u*c),r+(l-r)*(p*c+u*c)),yt.lineTo(t+(o-t)*(p*c+u*c),e+(n-e)*(p*c+u*c));yt.closePath(),yt.fill()}}function Ht(t,e){let o,n,s,r,i=t.operators[e],l=yt.createLinearGradient(0,0,xt,0);switch(i.highlighted?(l.addColorStop(0,"#E5914D"),l.addColorStop(1,"#4DA1E5")):(l.addColorStop(0,"#DE7521"),l.addColorStop(1,"#218ADE")),yt.fillStyle=l,i.func){case 0:case 1:case 4:case 6:case 8:case 9:case 11:break;case 2:n=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(r.x-vt,r.y-vt),yt.lineTo(r.x-vt,r.y+vt),yt.lineTo(n.x+vt,n.y+vt),yt.lineTo(n.x+vt,n.y-vt),yt.closePath(),yt.fill(),yt.beginPath(),yt.moveTo(r.x-vt,r.y-vt),yt.lineTo(r.x-vt,r.y+vt),yt.lineTo(s.x+vt,s.y+vt),yt.lineTo(s.x+vt,s.y-vt),yt.closePath(),yt.fill();break;case 3:n=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]];break;case 5:n=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(r.x-vt,r.y-vt),yt.lineTo(r.x-vt,r.y+vt),yt.lineTo(n.x+vt,n.y+vt),yt.lineTo(n.x+vt,n.y-vt),yt.lineTo(s.x-vt,s.y+vt),yt.lineTo(s.x+vt,s.y+vt),yt.closePath(),yt.fill();break;case 7:o=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(r.x-vt,r.y-5),yt.lineTo(r.x-vt,r.y+5),yt.lineTo(o.x+vt,o.y+vt),yt.lineTo(o.x+vt,o.y-vt),yt.closePath(),yt.fill();break;case 10:n=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(n.x+vt,n.y-vt),yt.lineTo(s.x-vt,s.y+vt),yt.lineTo(s.x+vt,s.y+vt),yt.lineTo(r.x-vt,r.y-vt),yt.closePath(),yt.fill(),Xt(n.x+vt,n.y-vt-1,n.x+vt,n.y+vt,r.x-vt,r.y-vt-1,r.x-vt,r.y+vt,3,.6);break;case 12:o=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(o.x+vt,o.y-vt),yt.lineTo((r.x+o.x)/2,(r.y+o.y)/2-vt),yt.lineTo((r.x+o.x)/2,(r.y+o.y)/2+vt),yt.lineTo(o.x+vt,o.y+vt),yt.closePath(),yt.fill(),Xt((r.x+o.x)/2,(r.y+o.y)/2-vt,(r.x+o.x)/2,(r.y+o.y)/2+vt,r.x-vt,r.y-vt,r.x-vt,r.y+vt,3,.5);break;case 15:o=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],yt.beginPath(),yt.moveTo(o.x+vt,o.y-vt),yt.lineTo(r.x-vt,r.y-vt),yt.lineTo(r.x-vt,r.y),yt.lineTo(o.x+vt+.6*(r.x-vt-o.x-vt),(o.y+r.y)/2),yt.lineTo(o.x+vt+.4*(r.x-vt-o.x-vt),(o.y+r.y)/2+vt),yt.lineTo(o.x+vt,o.y+vt),yt.closePath(),yt.fill()}}function Yt(){if(mt.width=mt.getBoundingClientRect().width,mt.height=mt.getBoundingClientRect().height,xt=mt.width,gt=mt.height,St){yt.beginPath();for(let t=-10;t<xt;t+=20)yt.moveTo(t,0),yt.lineTo(t,gt);for(let t=-10;t<gt;t+=20)yt.moveTo(0,t),yt.lineTo(xt,t);yt.lineWidth=.5,yt.setLineDash([1,4]),yt.strokeStyle="Grey",yt.closePath(),yt.stroke()}for(let t=0;t<Tt[0].operators.length;t++)Ht(Tt[0],t);for(let e=0;e<Tt[0].tensors.length;e++)if(qt(Tt[0],e),Tt[0].tensors[e].selected&&!Pt&&_t){var t={x_min:120,x_max:mt.width-20-Et-mt.width%20,y_min:20,y_max:mt.height-20-(mt.height-20)%vt*2};ct(Tt[0],e,Tt[0].tensors[e].tx+kt-Mt,Tt[0].tensors[e].ty+wt-Ct,t,St)}Pt&&(yt.fillStyle="rgba(255,255,255,0)",yt.lineWidth=1,yt.strokeStyle="#5dd2f0",yt.setLineDash([3,2]),yt.beginPath(),yt.roundRect(Mt,Ct,kt-Mt,wt-Ct,2),yt.stroke()),St=Ot[0].bool;try{yt.drawImage(Ut,Ot[0].x,Ot[0].y,Ot[0].w,Ot[0].h)}catch(t){yt.fillStyle="black",yt.fillRect(Ot[0].x,Ot[0].y,Ot[0].w,Ot[0].h)}yt.fillStyle="#E0E0E0",yt.fillRect(0,0,Lt,gt+20);for(let t=0;t<zt.length;t++){yt.fillStyle="#F2C8A6",yt.roundRect(10,zt[t].y-30,80,60,vt),yt.fill();var e=Tt[0].tensors[Tt[0].input_tensors[zt[t].list_index]];yt.lineWidth=1,yt.strokeStyle="black",yt.setLineDash([]),yt.beginPath(),yt.moveTo(90,zt[t].y),Math.abs(zt[t].y-e.y)<20?(yt.lineTo(Lt-Math.abs(zt[t].y-e.y)/2,zt[t].y),zt[t].y-e.y>0?(yt.arc(Lt-Math.abs(zt[t].y-e.y)/2,(zt[t].y+e.y)/2,Math.abs(e.y-zt[t].y)/2,Math.PI/2,0,!0),yt.arc(Lt+Math.abs(zt[t].y-e.y)/2,zt[t].y-(zt[t].y-e.y)/2,Math.abs(e.y-zt[t].y)/2,Math.PI,3*Math.PI/2)):(yt.arc(Lt-Math.abs(zt[t].y-e.y)/2,(zt[t].y+e.y)/2,Math.abs(e.y-zt[t].y)/2,3*Math.PI/2,0),yt.arc(Lt+Math.abs(zt[t].y-e.y)/2,zt[t].y-(zt[t].y-e.y)/2,Math.abs(e.y-zt[t].y)/2,Math.PI,Math.PI/2,!0)),yt.lineTo(e.x-vt,e.y)):(zt[t].y-e.y>0?(yt.arc(90,zt[t].y-vt,vt,Math.PI/2,0,!0),yt.arc(Lt+Math.min(Math.abs(zt[t].y-e.y)/2,e.x-vt-Lt),e.y+Math.min(Math.abs(e.y-zt[t].y)/2,e.x-vt-Lt),Math.min(Math.abs(e.y-zt[t].y)/2,e.x-vt-Lt),Math.PI,3*Math.PI/2)):(yt.arc(90,zt[t].y+vt,vt,3*Math.PI/2,0),yt.arc(Lt+Math.min(Math.abs(zt[t].y-e.y)/2,e.x-vt-Lt),e.y-Math.min(Math.abs(e.y-zt[t].y)/2,e.x-vt-Lt),Math.min(Math.abs(e.y-zt[t].y)/2,e.x-vt-Lt),Math.PI,Math.PI/2,!0)),yt.lineTo(e.x-vt,e.y)),yt.stroke()}yt.fillStyle="#E0E0E0",yt.fillRect(xt-Et,0,xt,gt+20);for(let t=0;t<At.length;t++){yt.fillStyle="#A6D0F2",yt.roundRect(xt-Et+10,At[t].y-30,80,60,vt),yt.fill();e=Tt[0].tensors[Tt[0].output_tensors[At[t].list_index]];yt.lineWidth=1,yt.strokeStyle="black",yt.setLineDash([]),yt.beginPath(),yt.moveTo(xt-Et+10,At[t].y),Math.abs(At[t].y-e.y)<20?(yt.lineTo(xt-Et+Math.abs(At[t].y-e.y)/2,At[t].y),At[t].y-e.y>0?(yt.arc(xt-Et+Math.abs(At[t].y-e.y)/2,(At[t].y+e.y)/2,Math.abs(e.y-At[t].y)/2,Math.PI/2,Math.PI),yt.arc(xt-Et-Math.abs(At[t].y-e.y)/2,At[t].y-(At[t].y-e.y)/2,Math.abs(e.y-At[t].y)/2,0,-Math.PI/2,!0)):(yt.arc(xt-Et+Math.abs(At[t].y-e.y)/2,(At[t].y+e.y)/2,Math.abs(e.y-At[t].y)/2,3*Math.PI/2,Math.PI,!0),yt.arc(xt-Et-Math.abs(At[t].y-e.y)/2,At[t].y-(At[t].y-e.y)/2,Math.abs(e.y-At[t].y)/2,0,Math.PI/2)),yt.lineTo(e.x+vt,e.y)):(At[t].y-e.y>0?(yt.arc(xt-Et+vt,At[t].y-vt,vt,Math.PI/2,Math.PI),yt.arc(xt-Et-Math.min(Math.abs(At[t].y-e.y)/2,xt-Et-e.x-vt),e.y+Math.min(Math.abs(e.y-At[t].y)/2,xt-Et-e.x-vt),Math.min(Math.abs(e.y-At[t].y)/2,xt-Et-e.x-vt),0,-Math.PI/2,!0)):(yt.arc(xt-Et+vt,At[t].y+vt,vt,3*Math.PI/2,Math.PI,!0),yt.arc(xt-Et-Math.min(Math.abs(At[t].y-e.y)/2,xt-Et-e.x-vt),e.y-Math.min(Math.abs(e.y-At[t].y)/2,xt-Et-e.x-vt),Math.min(Math.abs(e.y-At[t].y)/2,xt-Et-e.x-vt),0,Math.PI/2)),yt.lineTo(e.x+vt,e.y)),yt.stroke()}window.requestAnimationFrame(Yt)}function jt(){for(let t=0;t<Tt[0].tensors.length;t++)Tt[0].tensors[t].selected=!1}function Jt(t){for(let t=0;t<Tt[0].operators.length;t++)Tt[0].operators[t].highlighted=!1;for(let e=0;e<t.length;e++)Tt[0].operators[t[e]].highlighted=!0}function Kt(t){let e=pt(Tt[0],kt,wt);for(let t=0;t<e.length;t++){var o=e[t],n=Tt[0].tensors[o];null==n.output_of||0==n.input_to.length||(console.log("Unmerge"),ht(Tt[0],o))}}function Qt(t){Pt=!1;for(let t=0;t<Tt[0].tensors.length;t++)for(let n=0;n<Tt[0].tensors.length;n++)if(n!=t){var e=Tt[0].tensors[t],o=Tt[0].tensors[n];Math.abs(e.x-o.x)<20&&Math.abs(e.y-o.y)<20&&dt(Tt[0],t,n)}_t=!1,bt=-1,$t=-1}function Vt(t){_t=!0;for(let t=0;t<Tt[0].tensors.length;t++)Tt[0].tensors[t].tx=Tt[0].tensors[t].x,Tt[0].tensors[t].ty=Tt[0].tensors[t].y;Mt=kt,Ct=wt;let e=pt(Tt[0],kt,wt);0!=e.length&&(bt=e[0],Tt[0].tensors[bt].selected=!0);let o=ft(Tt[0],kt,wt);if(0!=o.length&&0==e.length){$t=o[0];var n=Tt[0].operators[$t];for(let t=0;t<n.inputs.length;t++)Tt[0].tensors[n.inputs[t]].selected=!0;for(let t=0;t<n.outputs.length;t++)Tt[0].tensors[n.outputs[t]].selected=!0}0==e.length&&0==o.length&&(Pt=!0,jt());for(let t=0;t<Ot.length;t++)Ot[t].press(kt,wt)}function Zt(t){if(t.offsetX?(kt=t.offsetX,wt=t.offsetY):t.layerX&&(kt=t.layerX,wt=t.layerY),Pt)for(let t=0;t<Tt[0].tensors.length;t++){var e=Tt[0].tensors[t];Math.abs(e.x-(Mt+kt)/2)<Math.abs(Mt-(Mt+kt)/2)&&Math.abs(e.y-(Ct+wt)/2)<Math.abs(Ct-(Ct+wt)/2)?e.selected=!0:e.selected=!1}}function te(t,e,o){const n=t.slice();return n[91]=e[o],n}function ee(t,e,o){const n=t.slice();return n[91]=e[o],n}function oe(t,e,o){const n=t.slice();return n[91]=e[o],n}function ne(t,e,o){const n=t.slice();return n[98]=e[o],n}function se(t){let e,o,s,r,i,l,u,d,y,_,k,M,C,T=t[98].operator_name+"";function P(){return t[45](t[98])}function S(){return t[47](t[98])}return{c(){e=m("li"),o=m("p"),s=m("img"),i=g(),l=x(T),u=g(),d=m("button"),d.textContent="×",y=g(),a(s.src,r=Ae)||b(s,"src",r),b(s,"alt","Max Pool List icon."),w(s,"max-height","20px"),w(s,"margin-right","10px"),b(d,"id","remove-button"),w(d,"margin-right","10px"),b(d,"class","svelte-1d541ko"),b(e,"id",_="list_item"+t[98].id),b(e,"class",k=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")},m(n,r){f(n,e,r),p(e,o),p(o,s),p(o,i),p(o,l),p(o,u),p(o,d),p(e,y),M||(C=[v(d,"click",t[44]),v(e,"click",P),v(e,"focus",Ge),v(e,"mouseleave",t[46]),v(e,"mouseover",S)],M=!0)},p(o,n){t=o,1&n[0]&&T!==(T=t[98].operator_name+"")&&$(l,T),1&n[0]&&_!==(_="list_item"+t[98].id)&&b(e,"id",_),1&n[0]&&k!==(k=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")&&b(e,"class",k)},d(t){t&&h(e),M=!1,n(C)}}}function re(t){let e,o,s,r,i,l,u,d,y,_,k,M,C,T=t[98].operator_name+"";function P(){return t[41](t[98])}function S(){return t[43](t[98])}return{c(){e=m("li"),o=m("p"),s=m("img"),i=g(),l=x(T),u=g(),d=m("button"),d.textContent="×",k=g(),a(s.src,r=ze)||b(s,"src",r),b(s,"alt","Softmax List icon."),w(s,"max-height","20px"),w(s,"margin-right","10px"),b(d,"id","remove-button"),w(d,"margin-right","10px"),b(d,"class","svelte-1d541ko"),b(e,"id",y="list_item"+t[98].id),b(e,"class",_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")},m(n,r){f(n,e,r),p(e,o),p(o,s),p(o,i),p(o,l),p(o,u),p(o,d),f(n,k,r),M||(C=[v(d,"click",t[40]),v(e,"click",P),v(e,"focus",Ne),v(e,"mouseleave",t[42]),v(e,"mouseover",S)],M=!0)},p(o,n){t=o,1&n[0]&&T!==(T=t[98].operator_name+"")&&$(l,T),1&n[0]&&y!==(y="list_item"+t[98].id)&&b(e,"id",y),1&n[0]&&_!==(_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")&&b(e,"class",_)},d(t){t&&h(e),t&&h(k),M=!1,n(C)}}}function ie(t){let e,o,s,r,i,l,u,d,y,_,k,M,C,T=t[98].operator_name+"";function P(){return t[37](t[98])}function S(){return t[39](t[98])}return{c(){e=m("li"),o=m("p"),s=m("img"),i=g(),l=x(T),u=g(),d=m("button"),d.textContent="×",k=g(),a(s.src,r=Ie)||b(s,"src",r),b(s,"alt","PReLU List icon."),w(s,"max-height","20px"),w(s,"margin-right","10px"),b(d,"id","remove-button"),w(d,"margin-right","10px"),b(d,"class","svelte-1d541ko"),b(e,"id",y="list_item"+t[98].id),b(e,"class",_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")},m(n,r){f(n,e,r),p(e,o),p(o,s),p(o,i),p(o,l),p(o,u),p(o,d),f(n,k,r),M||(C=[v(d,"click",t[36]),v(e,"click",P),v(e,"focus",Ue),v(e,"mouseleave",t[38]),v(e,"mouseover",S)],M=!0)},p(o,n){t=o,1&n[0]&&T!==(T=t[98].operator_name+"")&&$(l,T),1&n[0]&&y!==(y="list_item"+t[98].id)&&b(e,"id",y),1&n[0]&&_!==(_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")&&b(e,"class",_)},d(t){t&&h(e),t&&h(k),M=!1,n(C)}}}function le(t){let e,o,s,r,i,l,u,d,y,_,k,M,C,T=t[98].operator_name+"";function P(){return t[33](t[98])}function S(){return t[35](t[98])}return{c(){e=m("li"),o=m("p"),s=m("img"),i=g(),l=x(T),u=g(),d=m("button"),d.textContent="×",k=g(),a(s.src,r=Ee)||b(s,"src",r),b(s,"alt","Convolution List icon."),w(s,"max-height","20px"),w(s,"margin-right","10px"),b(d,"id","remove-button"),w(d,"margin-right","10px"),b(d,"class","svelte-1d541ko"),b(e,"id",y="list_item"+t[98].id),b(e,"class",_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")},m(n,r){f(n,e,r),p(e,o),p(o,s),p(o,i),p(o,l),p(o,u),p(o,d),f(n,k,r),M||(C=[v(d,"click",t[32]),v(e,"click",P),v(e,"focus",De),v(e,"mouseleave",t[34]),v(e,"mouseover",S)],M=!0)},p(o,n){t=o,1&n[0]&&T!==(T=t[98].operator_name+"")&&$(l,T),1&n[0]&&y!==(y="list_item"+t[98].id)&&b(e,"id",y),1&n[0]&&_!==(_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")&&b(e,"class",_)},d(t){t&&h(e),t&&h(k),M=!1,n(C)}}}function ae(t){let e,o,s,r,i,l,u,d,y,_,k,M,C,T=t[98].operator_name+"";function P(){return t[29](t[98])}function S(){return t[31](t[98])}return{c(){e=m("li"),o=m("p"),s=m("img"),i=g(),l=x(T),u=g(),d=m("button"),d.textContent="×",k=g(),a(s.src,r=Le)||b(s,"src",r),b(s,"alt","Fully Connected List icon."),w(s,"max-height","20px"),w(s,"margin-right","10px"),b(d,"id","remove-button"),w(d,"margin-right","10px"),b(d,"class","svelte-1d541ko"),b(e,"id",y="list_item"+t[98].id),b(e,"class",_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")},m(n,r){f(n,e,r),p(e,o),p(o,s),p(o,i),p(o,l),p(o,u),p(o,d),f(n,k,r),M||(C=[v(d,"click",t[28]),v(e,"click",P),v(e,"focus",Oe),v(e,"mouseleave",t[30]),v(e,"mouseover",S)],M=!0)},p(o,n){t=o,1&n[0]&&T!==(T=t[98].operator_name+"")&&$(l,T),1&n[0]&&y!==(y="list_item"+t[98].id)&&b(e,"id",y),1&n[0]&&_!==(_=c("true"===t[98].hovered?"hovered":"")+" svelte-1d541ko")&&b(e,"class",_)},d(t){t&&h(e),t&&h(k),M=!1,n(C)}}}function ue(t){let e;function o(t,e){return"Fully Connected"===t[98].operator_type?ae:"Convolution"===t[98].operator_type?le:"PReLU"===t[98].operator_type?ie:"Softmax"===t[98].operator_type?re:"MaxPool"===t[98].operator_type?se:void 0}let n=o(t),s=n&&n(t);return{c(){s&&s.c(),e=x("")},m(t,o){s&&s.m(t,o),f(t,e,o)},p(t,r){n===(n=o(t))&&s?s.p(t,r):(s&&s.d(1),s=n&&n(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s&&s.d(t),t&&h(e)}}}function ce(e){let o,s,r,i,l,a;return{c(){o=x("Are you sure?\n\t\t\n\t\t"),s=m("button"),s.textContent="Yes",r=g(),i=m("button"),i.textContent="No",b(s,"class","custom-button svelte-1d541ko"),b(i,"class","custom-button svelte-1d541ko")},m(t,n){f(t,o,n),f(t,s,n),f(t,r,n),f(t,i,n),l||(a=[v(s,"click",e[9]),v(i,"click",e[49])],l=!0)},p:t,d(t){t&&h(o),t&&h(s),t&&h(r),t&&h(i),l=!1,n(a)}}}function pe(e){let o,n,s,r,i=e[91].text+"";return{c(){o=m("option"),n=x(i),s=g(),o.__value=r=e[91],o.value=o.__value},m(t,e){f(t,o,e),p(o,n),p(o,s)},p:t,d(t){t&&h(o)}}}function fe(e){let o,n,s,r,i=e[91].text+"";return{c(){o=m("option"),n=x(i),s=g(),o.__value=r=e[91],o.value=o.__value},m(t,e){f(t,o,e),p(o,n),p(o,s)},p:t,d(t){t&&h(o)}}}function he(e){let o,n,s,r,i=e[91].text+"";return{c(){o=m("option"),n=x(i),s=g(),o.__value=r=e[91],o.value=o.__value},m(t,e){f(t,o,e),p(o,n),p(o,s)},p:t,d(t){t&&h(o)}}}function de(t){let e,o,s,r,i,l,a,u,c,y,x,$,k,C,T,P,S,L,E,I,z,A,R,O,D,U,N,G=t[18],B=[];for(let e=0;e<G.length;e+=1)B[e]=pe(oe(t,G,e));let W=t[20],q=[];for(let e=0;e<W.length;e+=1)q[e]=fe(ee(t,W,e));let X=t[19],H=[];for(let e=0;e<X.length;e+=1)H[e]=he(te(t,X,e));return{c(){e=m("p"),e.textContent="How would you like to download your neural network?",o=g(),s=m("form"),r=m("p"),r.textContent="Select Code:",i=g(),l=m("div"),a=m("select");for(let t=0;t<B.length;t+=1)B[t].c();u=g(),c=m("br"),y=g(),x=m("p"),x.textContent="Select Optimizer:",$=g(),k=m("div"),C=m("select");for(let t=0;t<q.length;t+=1)q[t].c();T=g(),P=m("br"),S=g(),L=m("p"),L.textContent="Select Loss Function:",E=g(),I=m("div"),z=m("select");for(let t=0;t<H.length;t+=1)H[t].c();A=g(),R=m("br"),O=g(),D=m("button"),D.textContent="Generate",w(r,"margin","5px 0px 5px 0px"),w(r,"font-size","20px"),b(a,"class","svelte-1d541ko"),void 0===t[6]&&F((()=>t[50].call(a))),b(l,"class","generate-select svelte-1d541ko"),w(x,"margin","5px 0px 5px 0px"),w(x,"font-size","20px"),b(C,"class","svelte-1d541ko"),void 0===t[8]&&F((()=>t[51].call(C))),b(k,"class","generate-select svelte-1d541ko"),w(L,"margin","5px 0px 5px 0px"),w(L,"font-size","20px"),b(z,"class","svelte-1d541ko"),void 0===t[7]&&F((()=>t[52].call(z))),b(I,"class","generate-select svelte-1d541ko"),b(D,"class","custom-button svelte-1d541ko"),b(D,"type","submit")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),p(s,r),p(s,i),p(s,l),p(l,a);for(let t=0;t<B.length;t+=1)B[t].m(a,null);M(a,t[6]),p(l,u),p(s,c),p(s,y),p(s,x),p(s,$),p(s,k),p(k,C);for(let t=0;t<q.length;t+=1)q[t].m(C,null);M(C,t[8]),p(k,T),p(s,P),p(s,S),p(s,L),p(s,E),p(s,I),p(I,z);for(let t=0;t<H.length;t+=1)H[t].m(z,null);M(z,t[7]),p(I,A),p(s,R),p(s,O),p(s,D),U||(N=[v(a,"change",t[50]),v(C,"change",t[51]),v(z,"change",t[52]),v(D,"click",t[53]),v(s,"submit",_(t[21]))],U=!0)},p(t,e){if(262144&e[0]){let o;for(G=t[18],o=0;o<G.length;o+=1){const n=oe(t,G,o);B[o]?B[o].p(n,e):(B[o]=pe(n),B[o].c(),B[o].m(a,null))}for(;o<B.length;o+=1)B[o].d(1);B.length=G.length}if(262208&e[0]&&M(a,t[6]),1048576&e[0]){let o;for(W=t[20],o=0;o<W.length;o+=1){const n=ee(t,W,o);q[o]?q[o].p(n,e):(q[o]=fe(n),q[o].c(),q[o].m(C,null))}for(;o<q.length;o+=1)q[o].d(1);q.length=W.length}if(1048832&e[0]&&M(C,t[8]),524288&e[0]){let o;for(X=t[19],o=0;o<X.length;o+=1){const n=te(t,X,o);H[o]?H[o].p(n,e):(H[o]=he(n),H[o].c(),H[o].m(z,null))}for(;o<H.length;o+=1)H[o].d(1);H.length=X.length}524416&e[0]&&M(z,t[7])},d(t){t&&h(e),t&&h(o),t&&h(s),d(B,t),d(q,t),d(H,t),U=!1,n(N)}}}function me(t){let e;return{c(){e=m("h1"),e.textContent="Tutorial"},m(t,o){f(t,e,o)},d(t){t&&h(e)}}}function ye(t){let e,o,n;return{c(){e=m("h1"),e.textContent="About Neurula",o=g(),n=m("p"),n.innerHTML="Machine learning can appear obscure and complicated, posing a barrier to people who are unfamiliar but interested.<br/>\n\t\t\tHowever, designing working neural networks doesn’t have to be difficult.<br/><br/>\n\t\t\tThat&#39;s why we created Neurula: a website in which you can drag and drop blocks allowing you to design\n\t\t\tneural networks in an intuitive fashion. Once you design a network, you can download auto-generated code that implements\n\t\t\tthat network in tensorflow or pytorch. <br/><br/> \n\t\t\t<i>Made for UCSC&#39;s CSE 115A Spring 2022</i><br/> \n\t\t\t<i>Developers: Nicolas Ayala, Anish Pahilajani, Kat Negrete, Mahesh Vegiraju, and Alexandra Hutchins</i>"},m(t,s){f(t,e,s),f(t,o,s),f(t,n,s)},d(t){t&&h(e),t&&h(o),t&&h(n)}}}function xe(e){let o,s,r,i,l,a,u,c,p,d,y,_,$,k,w;return{c(){o=x("Add Operator: "),s=m("br"),r=m("br"),i=g(),l=m("button"),l.textContent="Dense",a=g(),u=m("button"),u.textContent="Convolutional",c=g(),p=m("button"),p.textContent="PReLU",d=g(),y=m("button"),y.textContent="Softmax",_=g(),$=m("button"),$.textContent="Max Pool",b(l,"class","custom-button svelte-1d541ko"),b(u,"class","custom-button svelte-1d541ko"),b(p,"class","custom-button svelte-1d541ko"),b(y,"class","custom-button svelte-1d541ko"),b($,"class","custom-button svelte-1d541ko")},m(t,n){f(t,o,n),f(t,s,n),f(t,r,n),f(t,i,n),f(t,l,n),f(t,a,n),f(t,u,n),f(t,c,n),f(t,p,n),f(t,d,n),f(t,y,n),f(t,_,n),f(t,$,n),k||(w=[v(l,"click",e[13]),v(u,"click",e[14]),v(p,"click",e[15]),v(y,"click",e[16]),v($,"click",e[17])],k=!0)},p:t,d(t){t&&h(o),t&&h(s),t&&h(r),t&&h(i),t&&h(l),t&&h(a),t&&h(u),t&&h(c),t&&h(p),t&&h(d),t&&h(y),t&&h(_),t&&h($),k=!1,n(w)}}}function ge(t){let e,o,s,r,i,l,a,u,c,d,y,x,$,w,M,C,T,P,S,L,E,I,z,A;return{c(){e=m("p"),e.textContent="Edit Dense/ Fully Connected Operator: ",o=m("br"),s=m("br"),r=g(),i=m("form"),l=m("label"),l.textContent="Input:",a=g(),u=m("input"),c=m("br"),d=g(),y=m("label"),y.textContent="Output:",x=g(),$=m("input"),w=m("br"),M=g(),C=m("label"),C.textContent="Parameter Shape:",T=g(),P=m("input"),S=g(),L=m("br"),E=m("br"),I=m("button"),I.textContent="Submit",b(l,"for","name"),b(u,"id","name"),b(u,"type","text"),b(y,"for","name"),b($,"id","name"),b($,"type","text"),b(C,"for","name"),b(P,"id","name"),b(P,"type","text"),b(I,"class","custom-button svelte-1d541ko")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),f(n,r,h),f(n,i,h),p(i,l),p(i,a),p(i,u),k(u,t[3]),p(i,c),p(i,d),p(i,y),p(i,x),p(i,$),k($,t[4]),p(i,w),p(i,M),p(i,C),p(i,T),p(i,P),k(P,t[5]),p(i,S),p(i,L),p(i,E),p(i,I),z||(A=[v(u,"input",t[54]),v(u,"change",t[55]),v($,"input",t[56]),v($,"change",t[57]),v(P,"input",t[58]),v(P,"change",t[59]),v(I,"click",t[60]),v(i,"submit",_(t[22]))],z=!0)},p(t,e){8&e[0]&&u.value!==t[3]&&k(u,t[3]),16&e[0]&&$.value!==t[4]&&k($,t[4]),32&e[0]&&P.value!==t[5]&&k(P,t[5])},d(t){t&&h(e),t&&h(o),t&&h(s),t&&h(r),t&&h(i),z=!1,n(A)}}}function ve(t){let e,o,s,r,i,l,a,u,c,d,y,x,$,w,M,C,T,P,S,L,E,I,z,A;return{c(){e=m("p"),e.textContent="Edit Convolution Operator: ",o=m("br"),s=m("br"),r=g(),i=m("form"),l=m("label"),l.textContent="Input:",a=g(),u=m("input"),c=m("br"),d=g(),y=m("label"),y.textContent="Output:",x=g(),$=m("input"),w=m("br"),M=g(),C=m("label"),C.textContent="Kernel Shape:",T=g(),P=m("input"),S=g(),L=m("br"),E=m("br"),I=m("button"),I.textContent="Submit",b(l,"for","name"),b(u,"id","name"),b(u,"type","text"),b(y,"for","name"),b($,"id","name"),b($,"type","text"),b(C,"for","name"),b(P,"id","name"),b(P,"type","text"),b(I,"class","custom-button svelte-1d541ko")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),f(n,r,h),f(n,i,h),p(i,l),p(i,a),p(i,u),k(u,t[3]),p(i,c),p(i,d),p(i,y),p(i,x),p(i,$),k($,t[4]),p(i,w),p(i,M),p(i,C),p(i,T),p(i,P),k(P,t[5]),p(i,S),p(i,L),p(i,E),p(i,I),z||(A=[v(u,"input",t[61]),v(u,"change",t[62]),v($,"input",t[63]),v($,"change",t[64]),v(P,"input",t[65]),v(P,"change",t[66]),v(I,"click",t[67]),v(i,"submit",_(t[22]))],z=!0)},p(t,e){8&e[0]&&u.value!==t[3]&&k(u,t[3]),16&e[0]&&$.value!==t[4]&&k($,t[4]),32&e[0]&&P.value!==t[5]&&k(P,t[5])},d(t){t&&h(e),t&&h(o),t&&h(s),t&&h(r),t&&h(i),z=!1,n(A)}}}function _e(t){let e,o,s,r,i,l,a,u,c,d,y,x,$,w;return{c(){e=m("p"),e.textContent="Edit PReLU Operator: ",o=m("br"),s=m("br"),r=g(),i=m("form"),l=m("label"),l.textContent="Input/Output size:",a=g(),u=m("input"),c=g(),d=m("br"),y=m("br"),x=m("button"),x.textContent="Submit",b(l,"for","name"),b(u,"id","name"),b(u,"type","text"),b(x,"class","custom-button svelte-1d541ko")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),f(n,r,h),f(n,i,h),p(i,l),p(i,a),p(i,u),k(u,t[3]),p(i,c),p(i,d),p(i,y),p(i,x),$||(w=[v(u,"input",t[68]),v(u,"change",t[69]),v(x,"click",t[70]),v(i,"submit",_(t[22]))],$=!0)},p(t,e){8&e[0]&&u.value!==t[3]&&k(u,t[3])},d(t){t&&h(e),t&&h(o),t&&h(s),t&&h(r),t&&h(i),$=!1,n(w)}}}function be(t){let e,o,s,r,i,l,a,u,c,d,y,x,$,w;return{c(){e=m("p"),e.textContent="Edit Softmax Operator: ",o=m("br"),s=m("br"),r=g(),i=m("form"),l=m("label"),l.textContent="Input/Output size:",a=g(),u=m("input"),c=g(),d=m("br"),y=m("br"),x=m("button"),x.textContent="Submit",b(l,"for","name"),b(u,"id","name"),b(u,"type","text"),b(x,"class","custom-button svelte-1d541ko")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),f(n,r,h),f(n,i,h),p(i,l),p(i,a),p(i,u),k(u,t[3]),p(i,c),p(i,d),p(i,y),p(i,x),$||(w=[v(u,"input",t[71]),v(u,"change",t[72]),v(x,"click",t[73]),v(i,"submit",_(t[22]))],$=!0)},p(t,e){8&e[0]&&u.value!==t[3]&&k(u,t[3])},d(t){t&&h(e),t&&h(o),t&&h(s),t&&h(r),t&&h(i),$=!1,n(w)}}}function $e(t){let e,o,s,r,i,l,a,u,c,d,y,x,$,w;return{c(){e=m("p"),e.textContent="Edit Maxpool Operator: ",o=m("br"),s=m("br"),r=g(),i=m("form"),l=m("label"),l.textContent="Input/Output size:",a=g(),u=m("input"),c=g(),d=m("br"),y=m("br"),x=m("button"),x.textContent="Submit",b(l,"for","name"),b(u,"id","name"),b(u,"type","text"),b(x,"class","custom-button svelte-1d541ko")},m(n,h){f(n,e,h),f(n,o,h),f(n,s,h),f(n,r,h),f(n,i,h),p(i,l),p(i,a),p(i,u),k(u,t[3]),p(i,c),p(i,d),p(i,y),p(i,x),$||(w=[v(u,"input",t[74]),v(u,"change",t[75]),v(x,"click",t[76]),v(i,"submit",_(t[22]))],$=!0)},p(t,e){8&e[0]&&u.value!==t[3]&&k(u,t[3])},d(t){t&&h(e),t&&h(o),t&&h(s),t&&h(r),t&&h(i),$=!1,n(w)}}}function ke(t){let e,o,s,r,i,l,u,c,y,_,k,M,C,T,P,S,L,E,I,z,A,R,F,O,D,U,N,G,B,j,J,K,Q,V,Z,tt,et,nt,st,rt,it,lt,at,ut,ct,pt,ft,ht,dt,mt,yt,xt,gt,vt,_t,bt,$t,kt,wt,Mt,Ct,Tt,Pt,St,Lt,Et,It,zt,At,Rt,Ft,Ot,Dt,Ut,Nt,Gt,Bt,Wt,qt=t[0],Xt=[];for(let e=0;e<qt.length;e+=1)Xt[e]=ue(ne(t,qt,e));return $t=new ot({props:{id:"clear",$$slots:{default:[ce]},$$scope:{ctx:t}}}),wt=new ot({props:{id:"generate",$$slots:{default:[de]},$$scope:{ctx:t}}}),Ct=new ot({props:{id:"tutorial",$$slots:{default:[me]},$$scope:{ctx:t}}}),Pt=new ot({props:{id:"about",$$slots:{default:[ye]},$$scope:{ctx:t}}}),Lt=new ot({props:{id:"add_operator",$$slots:{default:[xe]},$$scope:{ctx:t}}}),It=new ot({props:{id:"edit_fully_connected",$$slots:{default:[ge]},$$scope:{ctx:t}}}),At=new ot({props:{id:"edit_convolution",$$slots:{default:[ve]},$$scope:{ctx:t}}}),Ft=new ot({props:{id:"edit_prelu",$$slots:{default:[_e]},$$scope:{ctx:t}}}),Dt=new ot({props:{id:"edit_softmax",$$slots:{default:[be]},$$scope:{ctx:t}}}),Nt=new ot({props:{id:"edit_maxpool",$$slots:{default:[$e]},$$scope:{ctx:t}}}),{c(){e=m("main"),o=m("nav"),s=m("div"),r=m("ul"),i=m("li"),l=m("a"),u=m("img"),y=g(),_=m("div"),k=m("ul"),M=m("li"),C=m("a"),T=x("Clear Canvas"),P=g(),S=m("li"),L=m("a"),E=x("Generate Code"),I=g(),z=m("li"),A=m("a"),R=x("?"),F=g(),O=m("div"),D=m("div"),U=m("div"),N=m("a"),G=x("+ add operator"),B=g(),j=m("div"),J=m("div"),J.innerHTML='<p id="layers-title" class="svelte-1d541ko">Added Layers:</p>',K=g();for(let t=0;t<Xt.length;t+=1)Xt[t].c();Q=g(),V=m("div"),Z=m("canvas"),tt=g(),et=m("div"),nt=x("Network Parameters: "),st=x(t[2]),rt=x("\tLayers: "),it=x(t[1]),lt=g(),at=m("div"),ut=m("a"),ct=x("About"),pt=g(),ft=m("a"),ht=m("img"),mt=x("Github"),yt=g(),xt=m("a"),gt=m("img"),_t=x("Feedback"),bt=g(),X($t.$$.fragment),kt=g(),X(wt.$$.fragment),Mt=g(),X(Ct.$$.fragment),Tt=g(),X(Pt.$$.fragment),St=g(),X(Lt.$$.fragment),Et=g(),X(It.$$.fragment),zt=g(),X(At.$$.fragment),Rt=g(),X(Ft.$$.fragment),Ot=g(),X(Dt.$$.fragment),Ut=g(),X(Nt.$$.fragment),a(u.src,c=we)||b(u,"src",c),b(u,"alt","Neurula logo."),w(u,"max-height","60px"),b(l,"href",Me),b(l,"class","svelte-1d541ko"),b(i,"class","svelte-1d541ko"),b(r,"class","navbar-list svelte-1d541ko"),b(s,"class","left svelte-1d541ko"),b(C,"href",void 0),b(C,"class","nav-button svelte-1d541ko"),b(M,"class","svelte-1d541ko"),b(L,"href",void 0),b(L,"class","nav-button svelte-1d541ko"),b(S,"class","svelte-1d541ko"),b(A,"href",void 0),b(A,"class","nav-button svelte-1d541ko"),b(z,"class","svelte-1d541ko"),b(k,"class","navbar-list svelte-1d541ko"),b(_,"class","right svelte-1d541ko"),b(o,"class","svelte-1d541ko"),b(N,"href",void 0),b(N,"class","add_op_button svelte-1d541ko"),b(U,"id","toolbar_title"),b(U,"class","svelte-1d541ko"),b(J,"id","toolbar_add_operator"),b(J,"class","svelte-1d541ko"),b(j,"id","toolbar_list"),b(j,"class","svelte-1d541ko"),b(D,"id","toolbar"),b(D,"class","svelte-1d541ko"),b(Z,"id","gui_canvas"),b(Z,"class","svelte-1d541ko"),b(et,"id","canvas_footer"),b(et,"class","svelte-1d541ko"),b(V,"id","canvas_container"),b(V,"class","svelte-1d541ko"),b(O,"id","workspace"),b(O,"class","svelte-1d541ko"),b(ut,"href",void 0),b(ut,"class","footer-button svelte-1d541ko"),b(ht,"id","git"),a(ht.src,dt=Ce)||b(ht,"src",dt),b(ht,"alt","Github logo."),w(ht,"max-height","20px"),b(ht,"class","svelte-1d541ko"),b(ft,"href",Pe),b(ft,"class","svelte-1d541ko"),b(gt,"id","git"),a(gt.src,vt=Te)||b(gt,"src",vt),b(gt,"alt","Google Forms logo."),w(gt,"max-height","20px"),b(gt,"class","svelte-1d541ko"),b(xt,"href",Se),b(xt,"class","svelte-1d541ko"),b(at,"class","footer svelte-1d541ko"),b(e,"class","svelte-1d541ko")},m(n,a){f(n,e,a),p(e,o),p(o,s),p(s,r),p(r,i),p(i,l),p(l,u),p(o,y),p(o,_),p(_,k),p(k,M),p(M,C),p(C,T),p(k,P),p(k,S),p(S,L),p(L,E),p(k,I),p(k,z),p(z,A),p(A,R),p(e,F),p(e,O),p(O,D),p(D,U),p(U,N),p(N,G),p(D,B),p(D,j),p(j,J),p(j,K);for(let t=0;t<Xt.length;t+=1)Xt[t].m(j,null);p(O,Q),p(O,V),p(V,Z),p(V,tt),p(V,et),p(et,nt),p(et,st),p(et,rt),p(et,it),p(e,lt),p(e,at),p(at,ut),p(ut,ct),p(at,pt),p(at,ft),p(ft,ht),p(ft,mt),p(at,yt),p(at,xt),p(xt,gt),p(xt,_t),p(e,bt),H($t,e,null),p(e,kt),H(wt,e,null),p(e,Mt),H(Ct,e,null),p(e,Tt),H(Pt,e,null),p(e,St),H(Lt,e,null),p(e,Et),H(It,e,null),p(e,zt),H(At,e,null),p(e,Rt),H(Ft,e,null),p(e,Ot),H(Dt,e,null),p(e,Ut),H(Nt,e,null),Gt=!0,Bt||(Wt=[v(C,"click",t[24]),v(L,"click",t[25]),v(A,"click",t[26]),v(N,"click",t[27]),v(ut,"click",t[48])],Bt=!0)},p(t,e){if(4097&e[0]){let o;for(qt=t[0],o=0;o<qt.length;o+=1){const n=ne(t,qt,o);Xt[o]?Xt[o].p(n,e):(Xt[o]=ue(n),Xt[o].c(),Xt[o].m(j,null))}for(;o<Xt.length;o+=1)Xt[o].d(1);Xt.length=qt.length}(!Gt||4&e[0])&&$(st,t[2]),(!Gt||2&e[0])&&$(it,t[1]);const o={};256&e[3]&&(o.$$scope={dirty:e,ctx:t}),$t.$set(o);const n={};448&e[0]|256&e[3]&&(n.$$scope={dirty:e,ctx:t}),wt.$set(n);const s={};256&e[3]&&(s.$$scope={dirty:e,ctx:t}),Ct.$set(s);const r={};256&e[3]&&(r.$$scope={dirty:e,ctx:t}),Pt.$set(r);const i={};256&e[3]&&(i.$$scope={dirty:e,ctx:t}),Lt.$set(i);const l={};56&e[0]|256&e[3]&&(l.$$scope={dirty:e,ctx:t}),It.$set(l);const a={};56&e[0]|256&e[3]&&(a.$$scope={dirty:e,ctx:t}),At.$set(a);const u={};8&e[0]|256&e[3]&&(u.$$scope={dirty:e,ctx:t}),Ft.$set(u);const c={};8&e[0]|256&e[3]&&(c.$$scope={dirty:e,ctx:t}),Dt.$set(c);const p={};8&e[0]|256&e[3]&&(p.$$scope={dirty:e,ctx:t}),Nt.$set(p)},i(t){Gt||(W($t.$$.fragment,t),W(wt.$$.fragment,t),W(Ct.$$.fragment,t),W(Pt.$$.fragment,t),W(Lt.$$.fragment,t),W(It.$$.fragment,t),W(At.$$.fragment,t),W(Ft.$$.fragment,t),W(Dt.$$.fragment,t),W(Nt.$$.fragment,t),Gt=!0)},o(t){q($t.$$.fragment,t),q(wt.$$.fragment,t),q(Ct.$$.fragment,t),q(Pt.$$.fragment,t),q(Lt.$$.fragment,t),q(It.$$.fragment,t),q(At.$$.fragment,t),q(Ft.$$.fragment,t),q(Dt.$$.fragment,t),q(Nt.$$.fragment,t),Gt=!1},d(t){t&&h(e),d(Xt,t),Y($t),Y(wt),Y(Ct),Y(Pt),Y(Lt),Y(It),Y(At),Y(Ft),Y(Dt),Y(Nt),Bt=!1,n(Wt)}}}Ut.src="grid_icon.png";let we="./transparent_bar_logo.png",Me="http://127.0.0.1:8000",Ce="https://cdn-icons-png.flaticon.com/512/25/25231.png",Te="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Google_Forms_logo_%282014-2020%29.svg/640px-Google_Forms_logo_%282014-2020%29.svg.png",Pe="https://github.com/genicos/nn_gui",Se="https://docs.google.com/forms/d/e/1FAIpQLSdMQYYT9P0cp507dm4xyCr9cvJJ9RUwAcFF21pWBhWLWyqPng/viewform?usp=sf_link",Le="./Fully_Connected.png",Ee="./Convolution.png",Ie="./PReLU.png",ze="./Softmax.png",Ae="./Maxpool.png";function Re(t){generate_selection=t}function Fe(t,e){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}const Oe=()=>{},De=()=>{},Ue=()=>{},Ne=()=>{},Ge=()=>{};function Be(t,e,o){var n;brython(),n=()=>{Wt(),document.getElementById("gui_canvas").addEventListener("mousemove",r,!1)},S().$$.on_mount.push(n);var s=[];function r(t){var e,n;t.offsetX?(e=t.offsetX,n=t.offsetY):t.layerX&&(e=t.layerX,n=t.layerY);var r=ft(Rt(),e,n);for(let t=0;t<s.length;t++)o(0,s[t].hovered="false",s);for(let t=0;t<r.length;t++)o(0,s[r[t]].hovered="true",s)}function i(){var t=Rt().operators.map((t=>lt[t.func].name)),e=[];if(0!=t.length){e.push(t[0]);for(let o=1;o<t.length;o++){var n=0;for(let e=0;e<o;e++)t[o]==t[e]&&n++;var r=t[o];n>0&&(r+=" "+String(n+1)),e.push(r)}for(let n=0;n<e.length;n++)o(0,s[n]={operator_type:t[n],operator_name:e[n],id:n,highlighted:"T"},s);a()}}function l(t){var e="";switch(t){case 0:e=m;break;case 1:e=x;break;case 2:e=y}if(null!=e){var o=[],n="";for(let t=0;t<e.length;t++)","==e[t]?(o.push(parseInt(n)),n=""):n+=e[t];switch(o.push(parseInt(n)),t){case 0:Nt(f,0,!0,o);break;case 1:Nt(f,1,!0,o);break;case 2:Nt(f,0,!1,o)}a(),u()}}function a(){var t=Rt();o(2,$=0),o(1,b=0);for(let n=0;n<t.operators.length;n++){var e=t.operators[n];lt[e.func].layer&&(o(1,b++,b),o(2,$+=t.tensors[e.inputs[1]].calc_size()))}}function u(){var t=Rt(),e=t.operators[f];t.input_tensors.includes(e.inputs[0])&&(h="off"),t.output_tensors.includes(e.outputs[0])&&(d="off");var n="";for(let o=0;o<t.tensors[e.inputs[0]].form.length;o++)o>0&&(n+=","),n+=String(t.tensors[e.inputs[0]].form[o]);o(3,m=n);var s="";for(let o=0;o<t.tensors[e.outputs[0]].form.length;o++)o>0&&(s+=","),s+=String(t.tensors[e.outputs[0]].form[o]);if(o(4,y=s),!(e.inputs.length<2)){var r="";for(let o=0;o<t.tensors[e.inputs[1]].form.length;o++)o>0&&(r+=","),r+=String(t.tensors[e.inputs[1]].form[o]);o(5,x=r)}}function c(){var t,e;"off"===h&&(t=f,(e=Tt[0]).input_tensors.push(e.operators[t].inputs[0])),"off"===d&&function(t){var e=Tt[0];e.output_tensors.push(e.operators[t].outputs[0])}(f)}function p(t){f=t,h="None",d="None",u()}let f,h,d,m,y,x,g,v,_,b=0,$=0,k=[{id:0,text:"Tensorflow"},{id:1,text:"Pytorch"}],w=[{id:0,text:"Categorical Cross Entropy"},{id:1,text:"Absolute Error"},{id:2,text:"Hinge Loss"},{id:3,text:"Huber Loss"},{id:4,text:"Mean Squared Error"}],M=[{id:0,text:"Adam"},{id:1,text:"Nadam"},{id:2,text:"Adadelta"},{id:3,text:"Adagrad"},{id:4,text:"Adamax"},{id:5,text:"RMSprop"},{id:6,text:"SGD"}];let T=[{id:1,name:"Dense"},{id:2,name:"Convolutional"},{id:3,name:"PReLU"},{id:4,name:"Softmax"},{id:5,name:"Maxpool"}],P="";function L(t){}function E(){const t=Rt(),e=t.tensors,o=t.operators,n=[];for(let t=0;t<o.length;t++){const l=[];var s=o[t];if(5==s.func)l.push(0);else{if(10!=s.func){console.log("Unexpected Operator");continue}l.push(1),l.push(e[s.inputs[1]].form[2])}l.push(e[s.inputs[0]].calc_size()),5==s.func&&l.push(e[s.outputs[0]].calc_size());var r=o[e[s.outputs[0]].input_to[0]];if(5!=s.func&&10!=s.func||7!=r.func&&12!=r.func?(console.log("Activation function expected, none given"),l.push(0)):(7==r.func?l.push(3):12==r.func&&l.push(2),t++),10==s.func){var i="("+e[s.inputs[1]].form[0]+","+e[s.inputs[1]].form[1]+")";l.push(i)}n.push(l)}return n}return[s,b,$,m,y,x,g,v,_,function(){Z("clear").close(1),Tt[0]=new nt,Bt()},l,c,p,function(){Ft(5),Z("add_operator").close(1),i()},function(){Ft(10),Z("add_operator").close(1),i()},function(){Ft(12),Z("add_operator").close(1),i()},function(){Ft(7),Z("add_operator").close(1),i()},function(){Ft(15),Z("add_operator").close(1),i()},k,w,M,function(){"Tensorflow"==g.text?async function(){var t=E(),e=tf_code_generator(t),o=tf_train_model(_.id,v.id);Fe("tf.py",e+o)}():async function(){var t=E(),e=pytorch_code_generator(t),o=pytorch_train_model(_.id,v.id);Fe("pytorch.py",e+o)}(),alert(`Generating {${g.text}} code with optimizer {${_.text}} and loss function {${v.text}}`)},()=>{T=[...T,{id:Math.random(),operator_type:P}],P=""},L,()=>Z("clear").open(L),()=>Z("generate").open(Re),()=>Z("tutorial").open(),()=>Z("add_operator").open(),()=>{},t=>{Z("edit_fully_connected").open(),p(t.id)},()=>{Jt([])},t=>{Jt([t.id])},()=>{},t=>{Z("edit_convolution").open(),p(t.id)},()=>{Jt([])},t=>{Jt([t.id])},()=>{},t=>{Z("edit_prelu").open(),p(t.id)},()=>{Jt([])},t=>{Jt([t.id])},()=>{},t=>{Z("edit_softmax").open(),p(t.id)},()=>{Jt([])},t=>{Jt([t.id])},()=>{},t=>{Z("edit_softmax").open(),p(t.id)},()=>{Jt([])},t=>{Jt([t.id])},()=>Z("about").open(),()=>Z("clear").close(0),function(){g=C(this),o(6,g),o(18,k)},function(){_=C(this),o(8,_),o(20,M)},function(){v=C(this),o(7,v),o(19,w)},()=>{Z("generate").close()},function(){m=this.value,o(3,m)},()=>{l(0)},function(){y=this.value,o(4,y)},()=>{l(2)},function(){x=this.value,o(5,x)},()=>{l(1)},()=>{Z("edit_fully_connected").close(),c()},function(){m=this.value,o(3,m)},()=>{l(0)},function(){y=this.value,o(4,y)},()=>{l(2)},function(){x=this.value,o(5,x)},()=>{l(1)},()=>{Z("edit_convolution").close(),c()},function(){m=this.value,o(3,m)},()=>{l(0)},()=>{Z("edit_prelu").close(),c()},function(){m=this.value,o(3,m)},()=>{l(0)},()=>{Z("edit_softmax").close(),c()},function(){m=this.value,o(3,m)},()=>{l(0)},()=>{Z("edit_softmax").close(),c()}]}return new class extends K{constructor(t){super(),J(this,t,Be,ke,r,{},null,[-1,-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
