var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,l;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function u(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function c(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function b(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function w(t,e,n){t.classList[n?"add":"remove"](e)}function k(t){l=t}function T(){if(!l)throw new Error("Function called outside component initialization");return l}const C=[],L=[],S=[],P=[],E=Promise.resolve();let M=!1;function z(t){S.push(t)}const R=new Set;let O=0;function A(){const t=l;do{for(;O<C.length;){const t=C[O];O++,k(t),F(t.$$)}for(k(null),C.length=0,O=0;L.length;)L.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];R.has(e)||(R.add(e),e())}S.length=0}while(C.length);for(;P.length;)P.pop()();M=!1,R.clear(),k(t)}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const U=new Set;let D;function I(t,e){t&&t.i&&(U.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),undefined.c.push((()=>{U.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function B(t){t&&t.c()}function G(t,n,r,i){const{fragment:l,on_mount:a,on_destroy:u,after_update:c}=t.$$;l&&l.m(n,r),i||z((()=>{const n=a.map(e).filter(s);u?u.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(z)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(C.push(t),M||(M=!0,E.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(e,s,r,i,a,u,c,p=[-1]){const h=l;k(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||h.$$.root};c&&c(d.root);let m=!1;if(d.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&q(e,t)),n})):[],d.update(),m=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();s.intro&&I(e.$$.fragment),G(e,s.target,s.anchor,s.customElement),A()}k(h)}class H{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t){let e,n,s,r,i,l,a,m,_,y,$;const b=t[5].default,k=function(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}(b,t,t[4],null);return{c(){e=h("div"),n=h("div"),s=d("svg"),r=d("circle"),i=d("line"),l=d("line"),a=g(),m=h("div"),k&&k.c(),v(r,"cx","6"),v(r,"cy","6"),v(r,"r","6"),v(i,"x1","3"),v(i,"y1","3"),v(i,"x2","9"),v(i,"y2","9"),v(i,"class","svelte-x94lxe"),v(l,"x1","9"),v(l,"y1","3"),v(l,"x2","3"),v(l,"y2","9"),v(l,"class","svelte-x94lxe"),v(s,"id","close"),v(s,"viewBox","0 0 12 12"),v(s,"class","svelte-x94lxe"),v(m,"id","modal-content"),v(m,"class","svelte-x94lxe"),v(n,"id","modal"),v(n,"class","svelte-x94lxe"),v(e,"id","topModal"),v(e,"class","svelte-x94lxe"),w(e,"visible",t[1])},m(o,u){var f;p(o,e,u),c(e,n),c(n,s),c(s,r),c(s,i),c(s,l),c(n,a),c(n,m),k&&k.m(m,null),t[7](e),_=!0,y||($=[x(s,"click",t[6]),x(n,"click",(f=K,function(t){return t.stopPropagation(),f.call(this,t)})),x(e,"click",t[8])],y=!0)},p(t,[n]){k&&k.p&&(!_||16&n)&&function(t,e,n,o,s,r){if(s){const i=u(e,n,o,r);t.p(i,s)}}(k,b,t,t[4],_?function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(b,t[4],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4]),null),2&n&&w(e,"visible",t[1])},i(t){_||(I(k,t),_=!0)},o(t){N(k,t),_=!1},d(n){n&&f(e),k&&k.d(n),t[7](null),y=!1,o($)}}}const X={};function J(t=""){return X[t]}const K=()=>{};function Q(t,e,n){let o,s,r,{$$slots:i={},$$scope:l}=e,a=!1,{id:u=""}=e;function c(t){"Escape"==t.key&&D==o&&p()}function p(t){a&&(window.removeEventListener("keydown",c),D=s,null==D&&(document.body.style.overflow=""),n(1,a=!1),r&&r(t))}var f;X[u]={open:function(t){r=t,a||(s=D,D=o,window.addEventListener("keydown",c),document.body.style.overflow="hidden",n(1,a=!0),document.body.appendChild(o))},close:p},f=()=>{delete X[u],window.removeEventListener("keydown",c)},T().$$.on_destroy.push(f);return t.$$set=t=>{"id"in t&&n(3,u=t.id),"$$scope"in t&&n(4,l=t.$$scope)},[o,a,p,u,l,i,()=>p(),function(t){L[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},()=>p()]}class V extends H{constructor(t){super(),j(this,t,Q,Y,r,{id:3})}}class Z{constructor(){this.tensors=[],this.operators=[],this.input_tensors=[],this.param_tensors=[],this.output_tensors=[],this.truth_tensors=[],this.loss=null}add_tensor(t){this.tensors.push(t)}add_operator(t){var e=t.clone();this.operators.push(e);for(let t=0;t<e.inputs.length;t++)this.tensors[e.inputs[t]].input_to.push(this.operators.length-1);for(let t=0;t<e.outputs.length;t++)this.tensors[e.outputs[t]].output_of=this.operators.length-1}update_tensors(){for(let t=0;t<this.tensors.length;t++)this.tensors[t].input_to=[],this.tensors[t].output_of=null;for(let t=0;t<this.operators.length;t++){for(let e=0;e<this.operators[t].inputs.length;e++)this.tensors[this.operators[t].inputs[e]].input_to.push(t);for(let e=0;e<this.operators[t].outputs.length;e++)this.tensors[this.operators[t].outputs[e]].output_of=t}}expand(){for(let l=0;l<this.operators.length;l++)if(0==this.operators[l].func&&this.operators[l].network){var t=this.operators[l].network;t.expand();var e=this.operators[l],n=this.operators.length;this.operators[l]=t.operators[0];for(let e=1;e<t.operators.length;e++)this.add_operator(t.operators[e]);for(let a=0;a<t.tensors.length;a++){var o=a;if(t.input_tensors.includes(a)){var s=t.input_tensors.indexOf(a);o=e.inputs[s]}else if(t.output_tensors.includes(a)){s=t.output_tensors.indexOf(a);o=e.outputs[s]}else this.add_tensor(t.tensors[a]),o=this.tensors.length-1;for(let e=0;e<t.tensors[a].input_to.length;e++){var r=t.tensors[a].input_to[e],i=t.operators[r].inputs.indexOf(a);0==r?this.operators[l].inputs[i]=o:this.operators[r+n-1].inputs[i]=o}if(t.tensors[a].output_of||0==t.tensors[a].output_of){r=t.tensors[a].output_of,i=t.operators[r].outputs.indexOf(a);0==r?this.operators[l].outputs[i]=o:this.operators[r+n-1].outputs[i]=o}}this.update_tensors()}}to_string(){var t="";t+="Tensors: \n";for(let e=0;e<this.tensors.length;e++){t+="\t"+e+":\n",this.tensors[e].form&&(t+="\t\tform: "+String(this.tensors[e].form)+"\n"),t+="\t\tinput_to:\n";for(let n=0;n<this.tensors[e].input_to.length;n++)t+="\t\t\t"+this.tensors[e].input_to[n]+"\n";t+="\t\toutput_of\n",t+="\t\t\t"+this.tensors[e].output_of+"\n"}t+="Operators: \n";for(let e=0;e<this.operators.length;e++){t+="\t"+e+":\n",t+="\t\tinputs:\n";for(let n=0;n<this.operators[e].inputs.length;n++)t+="\t\t\t"+this.operators[e].inputs[n]+"\n";t+="\t\toutputs:\n";for(let n=0;n<this.operators[e].outputs.length;n++)t+="\t\t\t"+this.operators[e].outputs[n]+"\n";t+="\t\tfunc: "+this.operators[e].func+"\n"}t+="input_tensors:\n";for(let e=0;e<this.input_tensors.length;e++)t+="\t"+this.input_tensors[e]+"\n";t+="param_tensors:\n";for(let e=0;e<this.param_tensors.length;e++)t+="\t"+this.param_tensors[e]+"\n";t+="output_tensors:\n";for(let e=0;e<this.output_tensors.length;e++)t+="\t"+this.output_tensors[e]+"\n";return t}}class tt{constructor(t,e){this.scalar=!1,this.live=t||!1,e?this.form=e:e=[],this.x=0,this.y=0,this.tx=0,this.ty=0,this.selected=!1,this.input_to=[],this.output_of=null}calc_size(){if(this.form){var t=1;for(let e=0;e<this.form.length;e++)t*=this.form[e];this.size=t}else this.size=0;return this.size}}class et{constructor(t,e){this.name=t,this.num_inputs=e}calc_form(t,e){var n=[];switch(console.log(this.name),this.name){case"identity":case"add":case"subtract":case"scale":case"softmax":case"hardmax":case"ReLU":case"LeakyReLU":case"Leaky to ReLU":n.push(e.tensors[t[0]].form);break;case"full":var o=e.tensors[t[0]].form,s=e.tensors[t[1]].form,r=1;for(let t=0;t<o.length;t++)r*=o[t];var i=1;for(let t=0;t<s.length;t++)i*=s[t];(l=[]).push(i/r),n.push(l);break;case"amass":case"max":(l=[]).push(1),n.push(l);break;case"convolution":o=e.tensors[t[0]].form,s=e.tensors[t[1]].form;var l=[];for(let t=0;t<o.length;t++)s.length<=t?l.push(o[t]):l.push(o[t]-s[t]+1);n.push(l);break;case"squared dist":n.push([1])}return n}}class nt{constructor(t){this.inputs=[],this.outputs=[],this.func=t,this.size=null,this.network=null}clone(){var t=new nt(this.func);return t.inputs=[...this.inputs],t.outputs=[...this.outputs],t.network=this.network,t}}var ot=Array.apply(null,Array(12)).map((function(){}));ot[0]=new et("abstraction",0),ot[1]=new et("identity",1),ot[2]=new et("add",2),ot[3]=new et("subtract",2),ot[4]=new et("scale",2),ot[5]=new et("Fully Connected",2),ot[6]=new et("amass",1),ot[7]=new et("Softmax",1),ot[8]=new et("hardmax",1),ot[9]=new et("max",1),ot[10]=new et("Convolution",2),ot[11]=new et("squared dist",2),ot[12]=new et("PReLU",1),ot[13]=new et("LeakyReLU",1),ot[14]=new et("Leaky to ReLU",1);const st=10;function rt(t,e,n){var o={x_min:-9999,x_max:1e4,y_min:-9999,y_max:1e4},s=t.operators[e],r=!1;for(let t=0;t<s.outputs.length;t++)s.outputs[t]==n&&(r=!0);var i=0;if(!r)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==n&&(i=t);var l=!1,a=!1,u=!1;switch(s.func){case 0:case 1:break;case 2:case 4:case 11:a=!0;break;case 4:case 5:case 10:u=!0;break;case 6:case 7:case 8:case 9:case 12:l=!0}var c=t.tensors[s.inputs[0]],p=t.tensors[s.inputs[1]],f=t.tensors[s.outputs[0]];if(l&&(r?o.x_min=c.x+40:o.x_max=f.x-40),u)if(r)o.x_min=p.x+20,o.y_min=p.y+20;else if(1==i){o.x_min=c.x+20,o.x_max=f.x-20;var h=Math.min(f.y,c.y);o.y_max=h-20}else o.x_max=p.x-20,o.y_min=p.y+20;if(a)if(r){var d=Math.max(c.x,p.x);o.x_min=d+40}else 1==i?(o.x_max=f.x-40,o.y_max=c.y-20):(o.x_max=f.x-40,o.y_min=p.y+20);return o}function it(t,e,n,o,s=!1){t.tensors[e].x=n,t.tensors[e].y=o,s&&(t.tensors[e].x-=(t.tensors[e].x+st)%20-st,t.tensors[e].y-=(t.tensors[e].y+st)%20-st);var r={x_min:-9999,x_max:1e4,y_min:-9999,y_max:1e4};for(let n=0;n<t.tensors[e].input_to.length;n++){let o=rt(t,t.tensors[e].input_to[n],e);r.x_min=Math.max(r.x_min,o.x_min),r.x_max=Math.min(r.x_max,o.x_max),r.y_min=Math.max(r.y_min,o.y_min),r.y_max=Math.min(r.y_max,o.y_max)}if(null!=t.tensors[e].output_of){let n=rt(t,t.tensors[e].output_of,e);r.x_min=Math.max(r.x_min,n.x_min),r.x_max=Math.min(r.x_max,n.x_max),r.y_min=Math.max(r.y_min,n.y_min),r.y_max=Math.min(r.y_max,n.y_max)}t.tensors[e].x<r.x_min&&(t.tensors[e].x=r.x_min),t.tensors[e].x>r.x_max&&(t.tensors[e].x=r.x_max),t.tensors[e].y<r.y_min&&(t.tensors[e].y=r.y_min),t.tensors[e].y>r.y_max&&(t.tensors[e].y=r.y_max)}function lt(t,e,n){var o=[];for(let s=0;s<t.tensors.length;s++)t.tensors[s].x-st<e&&t.tensors[s].x+st>e&&t.tensors[s].y-st<n&&t.tensors[s].y+st>n&&o.push(s);return o}function at(t,e,n){var o=[];for(let m=0;m<t.operators.length;m++){var s=t.operators[m],r=!1,i=!1,l=!1;switch(s.func){case 0:case 1:break;case 2:case 4:case 11:i=!0;break;case 4:case 5:case 10:l=!0;break;case 6:case 7:case 8:case 9:case 12:r=!0}var a=t.tensors[s.inputs[0]],u=t.tensors[s.inputs[1]],c=t.tensors[s.outputs[0]],p=1e6,f=-1e6,h=1e6,d=-1e6;r&&(p=a.x+st,f=c.x-st,h=Math.min(a.y-st,c.y-st),d=Math.max(a.y+st,c.y+st)),l&&(p=a.x+st,f=c.x-st,h=u.y+st,d=Math.max(a.y+st,c.y+st)),i&&(p=Math.min(a.x+st,u.x+st),f=c.x-st,h=u.y-st,d=a.y+st),p<e&&f>e&&h<n&&d>n&&o.push(m)}return o}function ut(t,e){var n=t.tensors[e],o=n.input_to;n.input_to=[];for(let a=0;a<o.length;a++){var s=o[a],r=t.operators[s],i=t.tensors.length;t.add_tensor(new tt(!0));var l=r.inputs.findIndex((t=>t==e));r.inputs[l]=i,t.tensors[i].x=n.x+20,t.tensors[i].y=n.y,t.tensors[i].input_to=[s],t.tensors[i].output_of=null,t.tensors[i].live=!1}n.x-=20,n.live=!1}function ct(t,e,n){if(t.tensors[e].live&&t.tensors[n].live)return void console.log("Both merged tensors are live, so don't do anything.");let o=t.tensors[e],s=t.tensors[n],r=n,i=e;if(null!=o.output_of&&null==s.output_of);else{if(null==s.output_of||null!=o.output_of)return void console.log("Error merging, only one input must have an output");var l=s;s=o,o=l,r=e,i=n}if(console.log(o.output_of,s.input_to),o.output_of==s.input_to)return void console.log("Error merging, these are input and output of the same function");let a=t.operators[s.input_to].inputs.indexOf(r);t.operators[s.input_to].inputs[a]=i,o.input_to=s.input_to,o.live=o.live||s.live,t.tensors[i].selected=!0,function(t,e){for(let n=0;n<t.operators.length;n++){for(let o=0;o<t.operators[n].inputs.length;o++)t.operators[n].inputs[o]>e&&(t.operators[n].inputs[o]-=1);for(let o=0;o<t.operators[n].outputs.length;o++)t.operators[n].outputs[o]>e&&(t.operators[n].outputs[o]-=1)}t.tensors.splice(e,1)}(t,r)}var pt=0,ft=0,ht=0,dt=0;const mt=10;var gt=!1,xt=-1,_t=-1,vt=0,yt=0,$t=0,bt=0,wt=[],kt=!1,Tt=!0;function Ct(t,e=40,n=60){Ft();var o=!1,s=!1,r=!1;switch(t){case 0:case 1:break;case 2:case 4:case 11:s=!0;break;case 4:case 5:case 10:r=!0;break;case 6:case 7:case 8:case 9:case 12:o=!0}let i=new nt;i.func=t;var l=wt[0].tensors.length;o&&(wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+0].x=e+0,wt[0].tensors[l+0].y=n+0,wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+1].x=e+60,wt[0].tensors[l+1].y=n+0,i.inputs=[l+0],i.outputs=[l+1]),r&&(wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+0].x=e+0,wt[0].tensors[l+0].y=n+40,wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+1].x=e+40,wt[0].tensors[l+1].y=n+0,wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+2].x=e+80,wt[0].tensors[l+2].y=n+40,i.inputs=[l+0,l+1],i.outputs=[l+2]),s&&(wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+0].x=e+0,wt[0].tensors[l+0].y=n+40,wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+1].x=e+0,wt[0].tensors[l+1].y=n+0,wt[0].add_tensor(new tt(!1)),wt[0].tensors[l+2].x=e+60,wt[0].tensors[l+2].y=n+20,i.inputs=[l+0,l+1],i.outputs=[l+2]),wt[0].add_operator(i)}CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,o,s){return n<0&&(t-=n=-n),o<0&&(e-=o=-o),n<2*s&&(s=n/2),o<2*s&&(s=o/2),this.beginPath(),this.moveTo(t+s,e),this.arcTo(t+n,e,t+n,e+o,s),this.arcTo(t+n,e+o,t,e+o,s),this.arcTo(t,e+o,t,e,s),this.arcTo(t,e,t+n,e,s),this.closePath(),this},wt.push(new Z);var Lt=[],St=new class{constructor(t,e,n,o,s=!1){this.x=t,this.y=e,this.w=n,this.h=o,this.bool=s}press(t,e){this.x<=t&&this.x+this.w>=t&&this.y<=e&&this.y+this.h>=e&&(this.bool=!this.bool)}}(10,10,20,20,!0);Lt.push(St);var Pt=new Image;function Et(t,e){var n=wt[0].tensors[t];n.form=e,n.calc_size(),console.log("whyy"+String(n.size)),n.live=!0;for(let e=0;e<n.input_to.length;e++)Mt(n.input_to[e],t,!0);null!=n.output_of&&Mt(n.output_of,t,!1)}function Mt(t,e,n){if(null!=t){var o=0,s=wt[0].operators[t];if(wt[0].tensors[e],n)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==e&&(o=t);else for(let t=0;t<s.outputs.length;t++)s.outputs[t]==e&&(o=t);var r,i=wt[0].tensors[s.inputs[0]],l=wt[0].tensors[s.outputs[0]];switch(s.inputs.length>1&&(r=wt[0].tensors[s.inputs[1]]),s.func){case 5:if(n)if(0==o){if(l.live)r.form=[i.size,l.size],r.live=!0,r.calc_size(),Mt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}}else{i.form=[r.form[0]],i.live=!0,i.calc_size(),Mt(i.output_of,s.inputs[0],!1),l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}else i.live&&(r.form=[i.size,l.size],r.live=!0,r.calc_size(),Mt(r.output_of,s.inputs[1],!1));break;case 7:if(n){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Mt(i.output_of,s.inputs[0],!1);break;case 10:if(n){if(0==o){if(l.live)r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Mt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}}else if(l.live)i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Mt(r.output_of,s.inputs[1],!1);else if(i.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}}else i.live?(r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Mt(r.output_of,s.inputs[1],!1)):r.live&&(i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Mt(r.output_of,s.inputs[1],!1));break;case 12:if(n){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Mt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Mt(i.output_of,s.inputs[0],!1)}}}function zt(){(pt=document.getElementById("gui_canvas")).addEventListener("mousedown",It,!1),pt.addEventListener("mousemove",Nt,!1),pt.addEventListener("mouseup",Dt,!1),pt.addEventListener("dblclick",Ut,!1),ft=pt.getContext("2d"),pt.width=pt.getBoundingClientRect().width,pt.height=pt.getBoundingClientRect().height,ht=pt.width,dt=pt.height,window.requestAnimationFrame(At)}function Rt(t,e){let n=t.tensors[e];n.live?(ft.fillStyle="white",ft.lineWidth=1,ft.setLineDash([]),ft.strokeStyle="black"):(ft.fillStyle="rgba(255,255,255,0)",ft.lineWidth=1,ft.setLineDash([3,4]),ft.strokeStyle="Grey"),ft.beginPath(),n.scalar?ft.rect(n.x-5,n.y-5,10,10):ft.rect(n.x-mt,n.y-mt,20,20),ft.fill(),ft.stroke(),n.selected&&(ft.fillStyle="rgba(255,255,255,0)",ft.lineWidth=1,ft.strokeStyle="#5dd2f0",ft.setLineDash([]),ft.beginPath(),ft.roundRect(n.x-15,n.y-15,30,30,2),ft.stroke())}function Ot(t,e){let n,o,s,r,i=t.operators[e],l=ft.createLinearGradient(0,0,ht,dt);l.addColorStop(0,"#DE7521"),l.addColorStop(1,"#218ADE"),ft.fillStyle=l;switch(i.func){case 0:case 1:case 4:case 6:case 8:case 9:case 11:break;case 2:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],ft.beginPath(),ft.moveTo(r.x-mt,r.y-mt),ft.lineTo(r.x-mt,r.y+mt),ft.lineTo(o.x+mt,o.y+mt),ft.lineTo(o.x+mt,o.y-mt),ft.closePath(),ft.fill(),ft.beginPath(),ft.moveTo(r.x-mt,r.y-mt),ft.lineTo(r.x-mt,r.y+mt),ft.lineTo(s.x+mt,s.y+mt),ft.lineTo(s.x+mt,s.y-mt),ft.closePath(),ft.fill();break;case 3:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]];break;case 5:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],ft.beginPath(),ft.moveTo(r.x-mt,r.y-mt),ft.lineTo(r.x-mt,r.y+mt),ft.lineTo(o.x+mt,o.y+mt),ft.lineTo(o.x+mt,o.y-mt),ft.lineTo(s.x-mt,s.y+mt),ft.lineTo(s.x+mt,s.y+mt),ft.closePath(),ft.fill();break;case 7:n=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],ft.beginPath(),ft.moveTo(r.x-mt,r.y-5),ft.lineTo(r.x-mt,r.y+5),ft.lineTo(n.x+mt,n.y+mt),ft.lineTo(n.x+mt,n.y-mt),ft.closePath(),ft.fill();break;case 10:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],ft.beginPath(),ft.moveTo(o.x+mt,o.y-mt+4),ft.lineTo(o.x+mt,o.y-mt),ft.lineTo(s.x-mt,s.y+mt),ft.lineTo(s.x+mt,s.y+mt),ft.lineTo(r.x-mt,r.y-mt),ft.lineTo(r.x-mt,r.y-mt+4);for(let t=1;t<5;t+=2)ft.lineTo(o.x+mt,o.y-mt+4*t),ft.lineTo(o.x+mt,o.y-mt+4*(t+1)),ft.lineTo(r.x-mt,r.y-mt+4*(t+1)),ft.lineTo(r.x-mt,r.y-mt+4*(t+2));ft.lineTo(o.x+mt,o.y+mt),ft.closePath(),ft.fill();break;case 12:n=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],ft.beginPath(),ft.moveTo(n.x+mt,n.y+mt),ft.lineTo(n.x+mt,n.y-mt),ft.lineTo(r.x-mt,r.y-mt),ft.lineTo(r.x-mt,r.y-mt+4);for(let t=1;t<5;t+=2)ft.lineTo((r.x+n.x)/2,(r.y+n.y)/2-mt+4*t),ft.lineTo((r.x+n.x)/2,(r.y+n.y)/2-mt+4*(t+1)),ft.lineTo(r.x-mt,r.y-mt+4*(t+1)),ft.lineTo(r.x-mt,r.y-mt+4*(t+2));ft.closePath(),ft.fill();break;default:console.log("Invalid operator types")}}function At(){if(pt.width=pt.getBoundingClientRect().width,pt.height=pt.getBoundingClientRect().height,ht=pt.width,dt=pt.height,Tt){ft.beginPath();for(let t=-10;t<ht;t+=20)ft.moveTo(t,0),ft.lineTo(t,dt);for(let t=-10;t<dt;t+=20)ft.moveTo(0,t),ft.lineTo(ht,t);ft.lineWidth=.5,ft.setLineDash([1,4]),ft.strokeStyle="Grey",ft.closePath(),ft.stroke()}for(let t=0;t<wt[0].operators.length;t++)Ot(wt[0],t);for(let t=0;t<wt[0].tensors.length;t++)Rt(wt[0],t),wt[0].tensors[t].selected&&!kt&&gt&&it(wt[0],t,wt[0].tensors[t].tx+vt-$t,wt[0].tensors[t].ty+yt-bt,Tt);kt&&(ft.fillStyle="rgba(255,255,255,0)",ft.lineWidth=1,ft.strokeStyle="#5dd2f0",ft.setLineDash([3,2]),ft.beginPath(),ft.roundRect($t,bt,vt-$t,yt-bt,2),ft.stroke()),Tt=Lt[0].bool;try{ft.drawImage(Pt,Lt[0].x,Lt[0].y,Lt[0].w,Lt[0].h)}catch(t){ft.fillStyle="black",ft.fillRect(Lt[0].x,Lt[0].y,Lt[0].w,Lt[0].h)}window.requestAnimationFrame(At)}function Ft(){for(let t=0;t<wt[0].tensors.length;t++)wt[0].tensors[t].selected=!1}function Ut(t){let e=lt(wt[0],vt,yt);for(let t=0;t<e.length;t++){var n=e[t],o=wt[0].tensors[n];null==o.output_of||0==o.input_to.length?(o.live=!o.live,Et(n,[10])):(console.log("Unmerge"),ut(wt[0],n))}}function Dt(t){kt=!1;for(let t=0;t<wt[0].tensors.length;t++)for(let o=0;o<wt[0].tensors.length;o++)if(o!=t){var e=wt[0].tensors[t],n=wt[0].tensors[o];Math.abs(e.x-n.x)<20&&Math.abs(e.y-n.y)<20&&ct(wt[0],t,o)}gt=!1,xt=-1,_t=-1;let o=lt(wt[0],vt,yt);o.length>=2&&ct(wt[0],o[0],o[1])}function It(t){gt=!0;for(let t=0;t<wt[0].tensors.length;t++)wt[0].tensors[t].tx=wt[0].tensors[t].x,wt[0].tensors[t].ty=wt[0].tensors[t].y;$t=vt,bt=yt;let e=lt(wt[0],vt,yt);0!=e.length&&(xt=e[0],wt[0].tensors[xt].selected||Ft(),wt[0].tensors[xt].selected=!0,console.log(wt[0].tensors[xt].form));let n=at(wt[0],vt,yt);if(0!=n.length&&0==e.length){_t=n[0];var o=wt[0].operators[_t];for(let t=0;t<o.inputs.length;t++)wt[0].tensors[o.inputs[t]].selected=!0;for(let t=0;t<o.outputs.length;t++)wt[0].tensors[o.outputs[t]].selected=!0}0==e.length&&0==n.length&&(kt=!0,Ft());for(let t=0;t<Lt.length;t++)Lt[t].press(vt,yt)}function Nt(t){if(t.offsetX?(vt=t.offsetX,yt=t.offsetY):t.layerX&&(vt=t.layerX,yt=t.layerY),kt)for(let t=0;t<wt[0].tensors.length;t++){var e=wt[0].tensors[t];Math.abs(e.x-($t+vt)/2)<Math.abs($t-($t+vt)/2)&&Math.abs(e.y-(bt+yt)/2)<Math.abs(bt-(bt+yt)/2)?e.selected=!0:e.selected=!1}}function Bt(t,e,n){const o=t.slice();return o[44]=e[n],o}function Gt(t){let e,n,o,s,r,i,l,u,d=t[44].operator_name+"";return{c(){e=h("li"),n=h("p"),o=h("img"),r=m(d),i=g(),a(o.src,s=fe)||v(o,"src",s),v(o,"alt","Softmax List icon."),b(o,"max-height","20px"),b(o,"margin-right","10px"),v(e,"id","list_item"),v(e,"class","svelte-13oasfg")},m(s,a){p(s,e,a),c(e,n),c(n,o),c(n,r),c(e,i),l||(u=x(e,"click",t[19]),l=!0)},p(t,e){1&e[0]&&d!==(d=t[44].operator_name+"")&&y(r,d)},d(t){t&&f(e),l=!1,u()}}}function Wt(t){let e,n,o,s,r,i,l,u,d=t[44].operator_name+"";return{c(){e=h("li"),n=h("p"),o=h("img"),r=m(d),i=g(),a(o.src,s=pe)||v(o,"src",s),v(o,"alt","PReLU List icon."),b(o,"max-height","20px"),b(o,"margin-right","10px"),v(e,"id","list_item"),v(e,"class","svelte-13oasfg")},m(s,a){p(s,e,a),c(e,n),c(n,o),c(n,r),p(s,i,a),l||(u=x(e,"click",t[18]),l=!0)},p(t,e){1&e[0]&&d!==(d=t[44].operator_name+"")&&y(r,d)},d(t){t&&f(e),t&&f(i),l=!1,u()}}}function qt(t){let e,n,o,s,r,i,l,u,d=t[44].operator_name+"";return{c(){e=h("li"),n=h("p"),o=h("img"),r=m(d),i=g(),a(o.src,s=ce)||v(o,"src",s),v(o,"alt","Convolution List icon."),b(o,"max-height","20px"),b(o,"margin-right","10px"),v(e,"id","list_item"),v(e,"class","svelte-13oasfg")},m(s,a){p(s,e,a),c(e,n),c(n,o),c(n,r),p(s,i,a),l||(u=x(e,"click",t[17]),l=!0)},p(t,e){1&e[0]&&d!==(d=t[44].operator_name+"")&&y(r,d)},d(t){t&&f(e),t&&f(i),l=!1,u()}}}function jt(t){let e,n,o,s,r,i,l,u,d=t[44].operator_name+"";return{c(){e=h("li"),n=h("p"),o=h("img"),r=m(d),i=g(),a(o.src,s=ue)||v(o,"src",s),v(o,"alt","Fully Connected List icon."),b(o,"max-height","20px"),b(o,"margin-right","10px"),v(e,"id","list_item"),v(e,"class","svelte-13oasfg")},m(s,a){p(s,e,a),c(e,n),c(n,o),c(n,r),p(s,i,a),l||(u=x(e,"click",t[16]),l=!0)},p(t,e){1&e[0]&&d!==(d=t[44].operator_name+"")&&y(r,d)},d(t){t&&f(e),t&&f(i),l=!1,u()}}}function Ht(t){let e;function n(t,e){return"Fully Connected"===t[44].operator_type?jt:"Convolution"===t[44].operator_type?qt:"PReLU"===t[44].operator_type?Wt:"Softmax"===t[44].operator_type?Gt:void 0}let o=n(t),s=o&&o(t);return{c(){s&&s.c(),e=m("")},m(t,n){s&&s.m(t,n),p(t,e,n)},p(t,r){o===(o=n(t))&&s?s.p(t,r):(s&&s.d(1),s=o&&o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s&&s.d(t),t&&f(e)}}}function Yt(e){let n,s,r,i,l,a;return{c(){n=m("Are you sure?\n\t\t\n\t\t"),s=h("button"),s.textContent="Yes",r=g(),i=h("button"),i.textContent="No",v(s,"class","option"),v(i,"class","option")},m(t,o){p(t,n,o),p(t,s,o),p(t,r,o),p(t,i,o),l||(a=[x(s,"click",e[4]),x(i,"click",e[21])],l=!0)},p:t,d(t){t&&f(n),t&&f(s),t&&f(r),t&&f(i),l=!1,o(a)}}}function Xt(e){let n,s,r,i,l,a,u,c,d;return{c(){n=m("How would you like to download your neural network? "),s=h("br"),r=h("br"),i=g(),l=h("button"),l.textContent="Pytorch",a=g(),u=h("button"),u.textContent="Tensorflow",v(l,"class","option"),v(u,"class","option")},m(t,o){p(t,n,o),p(t,s,o),p(t,r,o),p(t,i,o),p(t,l,o),p(t,a,o),p(t,u,o),c||(d=[x(l,"click",e[22]),x(u,"click",e[23])],c=!0)},p:t,d(t){t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(l),t&&f(a),t&&f(u),c=!1,o(d)}}}function Jt(t){let e;return{c(){e=h("h1"),e.textContent="Tutorial"},m(t,n){p(t,e,n)},d(t){t&&f(e)}}}function Kt(t){let e,n,o;return{c(){e=h("h1"),e.textContent="About Neurula",n=g(),o=h("p"),o.innerHTML="Machine learning can appear obscure and complicated, posing a barrier to people who are unfamiliar but interested.<br/>\n\t\t\tHowever, designing working neural networks doesn’t have to be difficult.<br/><br/>\n\t\t\tThat&#39;s why we created Neurula: a website in which you can drag and drop blocks allowing you to design\n\t\t\tneural networks in an intuitive fashion. Once you design a network, you can download auto-generated code that implements\n\t\t\tthat network in tensorflow or pytorch. <br/><br/> \n\t\t\t<i>Made for UCSC&#39;s CSE 115A Spring 2022</i><br/> \n\t\t\t<i>Developers: Nicolas Ayala, Anish Pahilajani, Kat Negrete, Mahesh Vegiraju, and Alexandra Hutchins</i>"},m(t,s){p(t,e,s),p(t,n,s),p(t,o,s)},d(t){t&&f(e),t&&f(n),t&&f(o)}}}function Qt(e){let n,s,r,i,l,a,u,c,d,_,y,$,b;return{c(){n=m("Add Operator: "),s=h("br"),r=h("br"),i=g(),l=h("button"),l.textContent="Dense",a=g(),u=h("button"),u.textContent="Convolutional",c=g(),d=h("button"),d.textContent="PReLU",_=g(),y=h("button"),y.textContent="Softmax",v(l,"class","option"),v(u,"class","option"),v(d,"class","option"),v(y,"class","option")},m(t,o){p(t,n,o),p(t,s,o),p(t,r,o),p(t,i,o),p(t,l,o),p(t,a,o),p(t,u,o),p(t,c,o),p(t,d,o),p(t,_,o),p(t,y,o),$||(b=[x(l,"click",e[5]),x(u,"click",e[6]),x(d,"click",e[7]),x(y,"click",e[8])],$=!0)},p:t,d(t){t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(l),t&&f(a),t&&f(u),t&&f(c),t&&f(d),t&&f(_),t&&f(y),$=!1,o(b)}}}function Vt(t){let e,n,s,r,i,l,a,u,d,y,b,w,k,T,C,L,S,P,E,M,z,R;return{c(){e=m("Edit Fully Connected Operator: "),n=h("br"),s=h("br"),r=g(),i=h("form"),l=h("label"),l.textContent="Input:",a=g(),u=h("input"),d=h("br"),y=g(),b=h("label"),b.textContent="Output:",w=g(),k=h("input"),T=h("br"),C=g(),L=h("label"),L.textContent="Parameter Shape:",S=g(),P=h("input"),E=g(),M=h("button"),M.textContent="Submit",v(l,"for","name"),v(u,"id","name"),v(u,"type","text"),v(b,"for","name"),v(k,"id","name"),v(k,"type","text"),v(L,"for","name"),v(P,"id","name"),v(P,"type","text"),v(M,"class","submit")},m(o,f){p(o,e,f),p(o,n,f),p(o,s,f),p(o,r,f),p(o,i,f),c(i,l),c(i,a),c(i,u),$(u,t[1]),c(i,d),c(i,y),c(i,b),c(i,w),c(i,k),$(k,t[2]),c(i,T),c(i,C),c(i,L),c(i,S),c(i,P),$(P,t[3]),p(o,E,f),p(o,M,f),z||(R=[x(u,"input",t[24]),x(k,"input",t[25]),x(P,"input",t[26]),x(i,"submit",_(t[9])),x(M,"click",t[27])],z=!0)},p(t,e){2&e[0]&&u.value!==t[1]&&$(u,t[1]),4&e[0]&&k.value!==t[2]&&$(k,t[2]),8&e[0]&&P.value!==t[3]&&$(P,t[3])},d(t){t&&f(e),t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(E),t&&f(M),z=!1,o(R)}}}function Zt(t){let e,n,s,r,i,l,a,u,d,y,b,w,k,T,C,L,S,P,E,M,z,R;return{c(){e=m("Edit Convolution Operator: "),n=h("br"),s=h("br"),r=g(),i=h("form"),l=h("label"),l.textContent="Input:",a=g(),u=h("input"),d=h("br"),y=g(),b=h("label"),b.textContent="Output:",w=g(),k=h("input"),T=h("br"),C=g(),L=h("label"),L.textContent="Kernel Shape:",S=g(),P=h("input"),E=g(),M=h("button"),M.textContent="Submit",v(l,"for","name"),v(u,"id","name"),v(u,"type","text"),v(b,"for","name"),v(k,"id","name"),v(k,"type","text"),v(L,"for","name"),v(P,"id","name"),v(P,"type","text"),v(M,"class","submit")},m(o,f){p(o,e,f),p(o,n,f),p(o,s,f),p(o,r,f),p(o,i,f),c(i,l),c(i,a),c(i,u),$(u,t[1]),c(i,d),c(i,y),c(i,b),c(i,w),c(i,k),$(k,t[2]),c(i,T),c(i,C),c(i,L),c(i,S),c(i,P),$(P,t[3]),p(o,E,f),p(o,M,f),z||(R=[x(u,"input",t[28]),x(k,"input",t[29]),x(P,"input",t[30]),x(i,"submit",_(t[9])),x(M,"click",t[31])],z=!0)},p(t,e){2&e[0]&&u.value!==t[1]&&$(u,t[1]),4&e[0]&&k.value!==t[2]&&$(k,t[2]),8&e[0]&&P.value!==t[3]&&$(P,t[3])},d(t){t&&f(e),t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(E),t&&f(M),z=!1,o(R)}}}function te(t){let e,n,s,r,i,l,a,u,d,y,b,w,k,T,C,L,S,P,E,M,z,R;return{c(){e=m("Edit PReLU Operator: "),n=h("br"),s=h("br"),r=g(),i=h("form"),l=h("label"),l.textContent="Input:",a=g(),u=h("input"),d=h("br"),y=g(),b=h("label"),b.textContent="Output:",w=g(),k=h("input"),T=h("br"),C=g(),L=h("label"),L.textContent="Slope for -x:",S=g(),P=h("input"),E=g(),M=h("button"),M.textContent="Submit",v(l,"for","name"),v(u,"id","name"),v(u,"type","text"),v(b,"for","name"),v(k,"id","name"),v(k,"type","text"),v(L,"for","name"),v(P,"id","name"),v(P,"type","text"),v(M,"class","submit")},m(o,f){p(o,e,f),p(o,n,f),p(o,s,f),p(o,r,f),p(o,i,f),c(i,l),c(i,a),c(i,u),$(u,t[1]),c(i,d),c(i,y),c(i,b),c(i,w),c(i,k),$(k,t[2]),c(i,T),c(i,C),c(i,L),c(i,S),c(i,P),$(P,t[3]),p(o,E,f),p(o,M,f),z||(R=[x(u,"input",t[32]),x(k,"input",t[33]),x(P,"input",t[34]),x(i,"submit",_(t[9])),x(M,"click",t[35])],z=!0)},p(t,e){2&e[0]&&u.value!==t[1]&&$(u,t[1]),4&e[0]&&k.value!==t[2]&&$(k,t[2]),8&e[0]&&P.value!==t[3]&&$(P,t[3])},d(t){t&&f(e),t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(E),t&&f(M),z=!1,o(R)}}}function ee(t){let e,n,s,r,i,l,a,u,d,y,b,w,k;return{c(){e=m("Edit Softmax Operator: "),n=h("br"),s=h("br"),r=g(),i=h("form"),l=h("label"),l.textContent="Input/ Output:",a=g(),u=h("input"),d=h("br"),y=g(),b=h("button"),b.textContent="Submit",v(l,"for","name"),v(u,"id","name"),v(u,"type","text"),v(b,"class","submit")},m(o,f){p(o,e,f),p(o,n,f),p(o,s,f),p(o,r,f),p(o,i,f),c(i,l),c(i,a),c(i,u),$(u,t[1]),c(i,d),p(o,y,f),p(o,b,f),w||(k=[x(u,"input",t[36]),x(i,"submit",_(t[9])),x(b,"click",t[37])],w=!0)},p(t,e){2&e[0]&&u.value!==t[1]&&$(u,t[1])},d(t){t&&f(e),t&&f(n),t&&f(s),t&&f(r),t&&f(i),t&&f(y),t&&f(b),w=!1,o(k)}}}function ne(t){let e,n,s,r,i,l,u,d,_,y,$,w,k,T,C,L,S,P,E,M,z,R,O,A,F,U,D,q,j,H,Y,X,J,K,Q,Z,tt,et,nt,ot,st,rt,it,lt,at,ut,ct,pt,ft,ht,dt,mt,gt,xt,_t,vt,yt,$t,bt,wt,kt,Tt,Ct,Lt,St,Pt,Et,Mt,zt,Rt=t[0],Ot=[];for(let e=0;e<Rt.length;e+=1)Ot[e]=Ht(Bt(t,Rt,e));return ht=new V({props:{id:"clear",$$slots:{default:[Yt]},$$scope:{ctx:t}}}),mt=new V({props:{id:"generate",$$slots:{default:[Xt]},$$scope:{ctx:t}}}),xt=new V({props:{id:"tutorial",$$slots:{default:[Jt]},$$scope:{ctx:t}}}),vt=new V({props:{id:"about",$$slots:{default:[Kt]},$$scope:{ctx:t}}}),$t=new V({props:{id:"add_operator",$$slots:{default:[Qt]},$$scope:{ctx:t}}}),wt=new V({props:{id:"edit_fully_connected",$$slots:{default:[Vt]},$$scope:{ctx:t}}}),Tt=new V({props:{id:"edit_convolution",$$slots:{default:[Zt]},$$scope:{ctx:t}}}),Lt=new V({props:{id:"edit_prelu",$$slots:{default:[te]},$$scope:{ctx:t}}}),Pt=new V({props:{id:"edit_softmax",$$slots:{default:[ee]},$$scope:{ctx:t}}}),{c(){e=h("main"),n=h("nav"),s=h("div"),r=h("ul"),i=h("li"),l=h("a"),u=h("img"),_=g(),y=h("div"),$=h("ul"),w=h("li"),k=h("a"),T=m("Clear Canvas"),C=g(),L=h("li"),S=h("a"),P=m("Generate Code"),E=g(),M=h("li"),z=h("a"),R=m("?"),O=g(),A=h("div"),F=h("div"),U=h("div"),D=h("a"),q=m("+ add operator"),j=g(),H=h("div"),Y=h("div"),X=g();for(let t=0;t<Ot.length;t+=1)Ot[t].c();J=g(),K=h("div"),K.innerHTML='<canvas id="gui_canvas" class="svelte-13oasfg"></canvas>',Q=g(),Z=h("div"),tt=h("a"),et=m("About"),nt=g(),ot=h("a"),st=h("img"),it=m("Github"),lt=g(),at=h("a"),ut=h("img"),pt=m("Feedback"),ft=g(),B(ht.$$.fragment),dt=g(),B(mt.$$.fragment),gt=g(),B(xt.$$.fragment),_t=g(),B(vt.$$.fragment),yt=g(),B($t.$$.fragment),bt=g(),B(wt.$$.fragment),kt=g(),B(Tt.$$.fragment),Ct=g(),B(Lt.$$.fragment),St=g(),B(Pt.$$.fragment),a(u.src,d=oe)||v(u,"src",d),v(u,"alt","Neurula logo."),b(u,"max-height","60px"),v(l,"href",se),v(l,"class","svelte-13oasfg"),v(i,"class","svelte-13oasfg"),v(r,"class","navbar-list svelte-13oasfg"),v(s,"class","left svelte-13oasfg"),v(k,"href",void 0),v(k,"class","nav-button svelte-13oasfg"),v(w,"class","svelte-13oasfg"),v(S,"href",void 0),v(S,"class","nav-button svelte-13oasfg"),v(L,"class","svelte-13oasfg"),v(z,"href",void 0),v(z,"class","nav-button svelte-13oasfg"),v(M,"class","svelte-13oasfg"),v($,"class","navbar-list svelte-13oasfg"),v(y,"class","right svelte-13oasfg"),v(n,"class","svelte-13oasfg"),v(D,"href",void 0),v(D,"class","nav-button svelte-13oasfg"),v(U,"id","toolbar_title"),v(U,"class","svelte-13oasfg"),v(Y,"id","toolbar_add_operator"),v(Y,"class","svelte-13oasfg"),v(H,"id","toolbar_list"),v(H,"class","svelte-13oasfg"),v(F,"id","toolbar"),v(F,"class","svelte-13oasfg"),v(K,"id","canvas_container"),v(K,"class","svelte-13oasfg"),v(A,"id","workspace"),v(A,"class","svelte-13oasfg"),v(tt,"href",void 0),v(tt,"class","footer-button svelte-13oasfg"),v(st,"id","git"),a(st.src,rt=re)||v(st,"src",rt),v(st,"alt","Github logo."),b(st,"max-height","20px"),v(st,"class","svelte-13oasfg"),v(ot,"href",le),v(ot,"class","svelte-13oasfg"),v(ut,"id","git"),a(ut.src,ct=ie)||v(ut,"src",ct),v(ut,"alt","Google Forms logo."),b(ut,"max-height","20px"),v(ut,"class","svelte-13oasfg"),v(at,"href",ae),v(at,"class","svelte-13oasfg"),v(Z,"class","footer svelte-13oasfg"),v(e,"class","svelte-13oasfg")},m(o,a){p(o,e,a),c(e,n),c(n,s),c(s,r),c(r,i),c(i,l),c(l,u),c(n,_),c(n,y),c(y,$),c($,w),c(w,k),c(k,T),c($,C),c($,L),c(L,S),c(S,P),c($,E),c($,M),c(M,z),c(z,R),c(e,O),c(e,A),c(A,F),c(F,U),c(U,D),c(D,q),c(F,j),c(F,H),c(H,Y),c(H,X);for(let t=0;t<Ot.length;t+=1)Ot[t].m(H,null);c(A,J),c(A,K),c(e,Q),c(e,Z),c(Z,tt),c(tt,et),c(Z,nt),c(Z,ot),c(ot,st),c(ot,it),c(Z,lt),c(Z,at),c(at,ut),c(at,pt),c(e,ft),G(ht,e,null),c(e,dt),G(mt,e,null),c(e,gt),G(xt,e,null),c(e,_t),G(vt,e,null),c(e,yt),G($t,e,null),c(e,bt),G(wt,e,null),c(e,kt),G(Tt,e,null),c(e,Ct),G(Lt,e,null),c(e,St),G(Pt,e,null),Et=!0,Mt||(zt=[x(k,"click",t[12]),x(S,"click",t[13]),x(z,"click",t[14]),x(D,"click",t[15]),x(tt,"click",t[20])],Mt=!0)},p(t,e){if(1&e[0]){let n;for(Rt=t[0],n=0;n<Rt.length;n+=1){const o=Bt(t,Rt,n);Ot[n]?Ot[n].p(o,e):(Ot[n]=Ht(o),Ot[n].c(),Ot[n].m(H,null))}for(;n<Ot.length;n+=1)Ot[n].d(1);Ot.length=Rt.length}const n={};65536&e[1]&&(n.$$scope={dirty:e,ctx:t}),ht.$set(n);const o={};65536&e[1]&&(o.$$scope={dirty:e,ctx:t}),mt.$set(o);const s={};65536&e[1]&&(s.$$scope={dirty:e,ctx:t}),xt.$set(s);const r={};65536&e[1]&&(r.$$scope={dirty:e,ctx:t}),vt.$set(r);const i={};65536&e[1]&&(i.$$scope={dirty:e,ctx:t}),$t.$set(i);const l={};14&e[0]|65536&e[1]&&(l.$$scope={dirty:e,ctx:t}),wt.$set(l);const a={};14&e[0]|65536&e[1]&&(a.$$scope={dirty:e,ctx:t}),Tt.$set(a);const u={};14&e[0]|65536&e[1]&&(u.$$scope={dirty:e,ctx:t}),Lt.$set(u);const c={};2&e[0]|65536&e[1]&&(c.$$scope={dirty:e,ctx:t}),Pt.$set(c)},i(t){Et||(I(ht.$$.fragment,t),I(mt.$$.fragment,t),I(xt.$$.fragment,t),I(vt.$$.fragment,t),I($t.$$.fragment,t),I(wt.$$.fragment,t),I(Tt.$$.fragment,t),I(Lt.$$.fragment,t),I(Pt.$$.fragment,t),Et=!0)},o(t){N(ht.$$.fragment,t),N(mt.$$.fragment,t),N(xt.$$.fragment,t),N(vt.$$.fragment,t),N($t.$$.fragment,t),N(wt.$$.fragment,t),N(Tt.$$.fragment,t),N(Lt.$$.fragment,t),N(Pt.$$.fragment,t),Et=!1},d(t){t&&f(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(Ot,t),W(ht),W(mt),W(xt),W(vt),W($t),W(wt),W(Tt),W(Lt),W(Pt),Mt=!1,o(zt)}}}Pt.src="grid_icon.png";let oe="./transparent_bar_logo.png",se="http://127.0.0.1:8000",re="https://cdn-icons-png.flaticon.com/512/25/25231.png",ie="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Google_Forms_logo_%282014-2020%29.svg/640px-Google_Forms_logo_%282014-2020%29.svg.png",le="https://github.com/genicos/nn_gui",ae="https://docs.google.com/forms/d/e/1FAIpQLSdMQYYT9P0cp507dm4xyCr9cvJJ9RUwAcFF21pWBhWLWyqPng/viewform?usp=sf_link",ue="./Fully_Connected.png",ce="./Convolution.png",pe="./PReLU.png",fe="./Softmax.png";function he(t,e,n){var o;o=()=>{zt(),document.getElementById("gui_canvas").addEventListener("mousemove",r,!1)},T().$$.on_mount.push(o);var s=[];function r(t){var e=at(wt[0],vt,yt);for(let t=0;t<s.length;t++)n(0,s[t].highlighted="F",s);for(let t=0;t<e.length;t++)n(0,s[t].highlighted="T",s)}function i(){var t=wt[0].operators.map((t=>ot[t.func].name)),e=[];if(0!=t.length){e.push(t[0]);for(let n=1;n<t.length;n++){var o=0;for(let e=0;e<n;e++)t[n]==t[e]&&o++;var r=t[n];o>0&&(r+=" "+String(o+1)),e.push(r)}for(let o=0;o<e.length;o++)n(0,s[o]={operator_type:t[o],operator_name:e[o],id:String(o),highlighted:"T"},s)}}let l,a,u,c=[{id:1,name:"Dense"},{id:2,name:"Convolutional"},{id:3,name:"PReLU"},{id:4,name:"Softmax"}],p="";function f(t){}function h(t){fetch("../net/testest",{method:"POST"}).then((t=>{console.log("Request complete! response:",t)}))}return[s,l,a,u,function(){J("clear").close(1),wt[0]=new Z},function(){Ct(5),J("add_operator").close(1),i()},function(){Ct(10),J("add_operator").close(1),i()},function(){Ct(12),J("add_operator").close(1),i()},function(){Ct(7),J("add_operator").close(1),i()},()=>{c=[...c,{id:Math.random(),operator_type:p}],p=""},f,h,()=>J("clear").open(f),()=>J("generate").open(h),()=>J("tutorial").open(),()=>J("add_operator").open(),()=>J("edit_fully_connected").open(),()=>J("edit_convolution").open(),()=>J("edit_prelu").open(),()=>J("edit_softmax").open(),()=>J("about").open(),()=>J("clear").close(0),()=>J("generate").close(1),()=>J("generate").close(2),function(){l=this.value,n(1,l)},function(){a=this.value,n(2,a)},function(){u=this.value,n(3,u)},()=>J("edit_fully_connected").close(),function(){l=this.value,n(1,l)},function(){a=this.value,n(2,a)},function(){u=this.value,n(3,u)},()=>J("edit_convolution").close(),function(){l=this.value,n(1,l)},function(){a=this.value,n(2,a)},function(){u=this.value,n(3,u)},()=>J("edit_prelu").close(),function(){l=this.value,n(1,l)},()=>J("edit_softmax").close()]}return new class extends H{constructor(t){super(),j(this,t,he,ne,r,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
