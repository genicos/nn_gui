var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,l;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function u(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function c(t){return null==t?"":t}function p(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function _(){return g("")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function C(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function T(t,e,n){t.classList[n?"add":"remove"](e)}function S(t){l=t}function L(){if(!l)throw new Error("Function called outside component initialization");return l}const z=[],P=[],E=[],M=[],O=Promise.resolve();let A=!1;function F(t){E.push(t)}function R(t){M.push(t)}const I=new Set;let D=0;function U(){const t=l;do{for(;D<z.length;){const t=z[D];D++,S(t),N(t.$$)}for(S(null),z.length=0,D=0;P.length;)P.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];I.has(e)||(I.add(e),e())}E.length=0}while(z.length);for(;M.length;)M.pop()();A=!1,I.clear(),S(t)}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const B=new Set;let G;function W(t,e){t&&t.i&&(B.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),undefined.c.push((()=>{B.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function q(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function H(t){t&&t.c()}function Y(t,n,r,i){const{fragment:l,on_mount:a,on_destroy:u,after_update:c}=t.$$;l&&l.m(n,r),i||F((()=>{const n=a.map(e).filter(s);u?u.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(F)}function X(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(z.push(t),A||(A=!0,O.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,s,r,i,a,u,c,p=[-1]){const f=l;S(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||f.$$.root};c&&c(d.root);let m=!1;if(d.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&J(e,t)),n})):[],d.update(),m=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();s.intro&&W(e.$$.fragment),Y(e,s.target,s.anchor,s.customElement),U()}S(f)}class Q{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t){let e,n,s,r,i,l,a,c,d,g,_;const $=t[5].default,w=function(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}($,t,t[4],null);return{c(){e=m("div"),n=m("div"),s=x("svg"),r=x("circle"),i=x("line"),l=x("line"),a=v(),c=m("div"),w&&w.c(),b(r,"cx","6"),b(r,"cy","6"),b(r,"r","6"),b(i,"x1","3"),b(i,"y1","3"),b(i,"x2","9"),b(i,"y2","9"),b(i,"class","svelte-x94lxe"),b(l,"x1","9"),b(l,"y1","3"),b(l,"x2","3"),b(l,"y2","9"),b(l,"class","svelte-x94lxe"),b(s,"id","close"),b(s,"viewBox","0 0 12 12"),b(s,"class","svelte-x94lxe"),b(c,"id","modal-content"),b(c,"class","svelte-x94lxe"),b(n,"id","modal"),b(n,"class","svelte-x94lxe"),b(e,"id","topModal"),b(e,"class","svelte-x94lxe"),T(e,"visible",t[1])},m(o,u){var h;f(o,e,u),p(e,n),p(n,s),p(s,r),p(s,i),p(s,l),p(n,a),p(n,c),w&&w.m(c,null),t[7](e),d=!0,g||(_=[y(s,"click",t[6]),y(n,"click",(h=et,function(t){return t.stopPropagation(),h.call(this,t)})),y(e,"click",t[8])],g=!0)},p(t,[n]){w&&w.p&&(!d||16&n)&&function(t,e,n,o,s,r){if(s){const i=u(e,n,o,r);t.p(i,s)}}(w,$,t,t[4],d?function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}($,t[4],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4]),null),2&n&&T(e,"visible",t[1])},i(t){d||(W(w,t),d=!0)},o(t){j(w,t),d=!1},d(n){n&&h(e),w&&w.d(n),t[7](null),g=!1,o(_)}}}const Z={};function tt(t=""){return Z[t]}const et=()=>{};function nt(t,e,n){let o,s,r,{$$slots:i={},$$scope:l}=e,a=!1,{id:u=""}=e;function c(t){"Escape"==t.key&&G==o&&p()}function p(t){a&&(window.removeEventListener("keydown",c),G=s,null==G&&(document.body.style.overflow=""),n(1,a=!1),r&&r(t))}var f;Z[u]={open:function(t){r=t,a||(s=G,G=o,window.addEventListener("keydown",c),document.body.style.overflow="hidden",n(1,a=!0),document.body.appendChild(o))},close:p},f=()=>{delete Z[u],window.removeEventListener("keydown",c)},L().$$.on_destroy.push(f);return t.$$set=t=>{"id"in t&&n(3,u=t.id),"$$scope"in t&&n(4,l=t.$$scope)},[o,a,p,u,l,i,()=>p(),function(t){P[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},()=>p()]}class ot extends Q{constructor(t){super(),K(this,t,nt,V,r,{id:3})}}function st(t,e,n){const o=t.slice();return o[11]=e[n],o}function rt(t){let e,n,o,s,r,i=t[3],l=[];for(let e=0;e<i.length;e+=1)l[e]=ct(st(t,i,e));return{c(){e=m("div"),n=m("div"),o=m("div"),s=g(t[1]),r=v();for(let t=0;t<l.length;t+=1)l[t].c();b(o,"class","legend"),b(o,"id",`label-${t[6]}`),b(n,"role","radiogroup"),b(n,"class","group-container svelte-1ufa5se"),b(n,"aria-labelledby",`label-${t[6]}`),C(n,"font-size",t[4]+"px"),b(n,"id",`group-${t[6]}`),b(e,"class","s s--multi svelte-1ufa5se")},m(t,i){f(t,e,i),p(e,n),p(n,o),p(o,s),p(n,r);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,e){if(2&e&&w(s,t[1]),73&e){let o;for(i=t[3],o=0;o<i.length;o+=1){const s=st(t,i,o);l[o]?l[o].p(s,e):(l[o]=ct(s),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=i.length}16&e&&C(n,"font-size",t[4]+"px")},d(t){t&&h(e),d(l,t)}}}function it(t){let e,n,o,s,r,i,l;return{c(){e=m("div"),n=m("span"),o=g(t[1]),s=v(),r=m("button"),b(n,"id",`switch-${t[6]}`),b(r,"role","switch"),b(r,"aria-checked",t[5]),b(r,"aria-labelledby",`switch-${t[6]}`),b(r,"class","svelte-1ufa5se"),b(e,"class","s s--slider svelte-1ufa5se"),C(e,"font-size",t[4]+"px")},m(a,u){f(a,e,u),p(e,n),p(n,o),p(e,s),p(e,r),i||(l=y(r,"click",t[7]),i=!0)},p(t,n){2&n&&w(o,t[1]),32&n&&b(r,"aria-checked",t[5]),16&n&&C(e,"font-size",t[4]+"px")},d(t){t&&h(e),i=!1,l()}}}function lt(t){let e,n,o,s,r,i,l,a,u,c;return{c(){e=m("div"),n=m("span"),o=g(t[1]),s=v(),r=m("button"),i=m("span"),i.textContent="None",l=v(),a=m("span"),a.textContent="Output",b(n,"id",`switch-${t[6]}`),b(n,"class","svelte-1ufa5se"),b(i,"class","svelte-1ufa5se"),b(a,"class","svelte-1ufa5se"),b(r,"role","switch"),b(r,"aria-checked",t[5]),b(r,"aria-labelledby",`switch-${t[6]}`),b(r,"class","svelte-1ufa5se"),b(e,"class","s s--inner svelte-1ufa5se")},m(h,d){f(h,e,d),p(e,n),p(n,o),p(e,s),p(e,r),p(r,i),p(r,l),p(r,a),u||(c=y(r,"click",t[7]),u=!0)},p(t,e){2&e&&w(o,t[1]),32&e&&b(r,"aria-checked",t[5])},d(t){t&&h(e),u=!1,c()}}}function at(t){let e,n,o,s,r,i,l,a,u,c;return{c(){e=m("div"),n=m("span"),o=g(t[1]),s=v(),r=m("button"),i=m("span"),i.textContent="None",l=v(),a=m("span"),a.textContent="Input",b(n,"id",`switch-${t[6]}`),b(n,"class","svelte-1ufa5se"),b(i,"class","svelte-1ufa5se"),b(a,"class","svelte-1ufa5se"),b(r,"role","switch"),b(r,"aria-checked",t[5]),b(r,"aria-labelledby",`switch-${t[6]}`),b(r,"class","svelte-1ufa5se"),b(e,"class","s s--inner svelte-1ufa5se")},m(h,d){f(h,e,d),p(e,n),p(n,o),p(e,s),p(e,r),p(r,i),p(r,l),p(r,a),u||(c=y(r,"click",t[7]),u=!0)},p(t,e){2&e&&w(o,t[1]),32&e&&b(r,"aria-checked",t[5])},d(t){t&&h(e),u=!1,c()}}}function ut(t){let e,n,o,s,r,i,l,a,u,c;return{c(){e=m("div"),n=m("span"),o=g(t[1]),s=v(),r=m("button"),i=m("span"),i.textContent="on",l=v(),a=m("span"),a.textContent="off",b(n,"id",`switch-${t[6]}`),b(n,"class","svelte-1ufa5se"),b(i,"class","svelte-1ufa5se"),b(a,"class","svelte-1ufa5se"),b(r,"role","switch"),b(r,"aria-checked",t[5]),b(r,"aria-labelledby",`switch-${t[6]}`),b(r,"class","svelte-1ufa5se"),b(e,"class","s s--inner svelte-1ufa5se")},m(h,d){f(h,e,d),p(e,n),p(n,o),p(e,s),p(e,r),p(r,i),p(r,l),p(r,a),u||(c=y(r,"click",t[7]),u=!0)},p(t,e){2&e&&w(o,t[1]),32&e&&b(r,"aria-checked",t[5])},d(t){t&&h(e),u=!1,c()}}}function ct(t){let e,n,o,s,r,i,l,a,u,c,d=t[11]+"";return{c(){e=m("input"),s=v(),r=m("label"),i=g(d),l=v(),b(e,"type","radio"),b(e,"id",n=`${t[11]}-${t[6]}`),e.__value=o=t[11],e.value=e.__value,b(e,"class","svelte-1ufa5se"),t[9][0].push(e),b(r,"for",a=`${t[11]}-${t[6]}`),b(r,"class","svelte-1ufa5se")},m(n,o){f(n,e,o),e.checked=e.__value===t[0],f(n,s,o),f(n,r,o),p(r,i),p(r,l),u||(c=y(e,"change",t[8]),u=!0)},p(t,s){8&s&&n!==(n=`${t[11]}-${t[6]}`)&&b(e,"id",n),8&s&&o!==(o=t[11])&&(e.__value=o,e.value=e.__value),1&s&&(e.checked=e.__value===t[0]),8&s&&d!==(d=t[11]+"")&&w(i,d),8&s&&a!==(a=`${t[11]}-${t[6]}`)&&b(r,"for",a)},d(n){n&&h(e),t[9][0].splice(t[9][0].indexOf(e),1),n&&h(s),n&&h(r),u=!1,c()}}}function pt(e){let n;function o(t,e){return"inner"==t[2]?ut:"I"==t[2]?at:"O"==t[2]?lt:"slider"==t[2]?it:rt}let s=o(e),r=s(e);return{c(){r.c(),n=_()},m(t,e){r.m(t,e),f(t,n,e)},p(t,[e]){s===(s=o(t))&&r?r.p(t,e):(r.d(1),r=s(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&h(n)}}}function ft(t,e,n){let{label:o}=e,{design:s="inner label"}=e,{options:r=[]}=e,{fontSize:i=16}=e,{value:l="on"}=e,a=!0;const u=Math.floor(100*Math.random());return t.$$set=t=>{"label"in t&&n(1,o=t.label),"design"in t&&n(2,s=t.design),"options"in t&&n(3,r=t.options),"fontSize"in t&&n(4,i=t.fontSize),"value"in t&&n(0,l=t.value)},[l,o,s,r,i,a,u,function(t){const e=t.target.getAttribute("aria-checked");n(5,a="true"!==e),n(0,l=!0===a?"on":"off")},function(){l=this.__value,n(0,l)},[[]]]}class ht extends Q{constructor(t){super(),K(this,t,ft,pt,r,{label:1,design:2,options:3,fontSize:4,value:0})}}class dt{constructor(){this.tensors=[],this.operators=[],this.input_tensors=[],this.param_tensors=[],this.output_tensors=[],this.truth_tensors=[],this.loss=null}add_tensor(t){this.tensors.push(t)}add_operator(t){var e=t.clone();this.operators.push(e);for(let t=0;t<e.inputs.length;t++)this.tensors[e.inputs[t]].input_to.push(this.operators.length-1);for(let t=0;t<e.outputs.length;t++)this.tensors[e.outputs[t]].output_of=this.operators.length-1}update_tensors(){for(let t=0;t<this.tensors.length;t++)this.tensors[t].input_to=[],this.tensors[t].output_of=null;for(let t=0;t<this.operators.length;t++){for(let e=0;e<this.operators[t].inputs.length;e++)this.tensors[this.operators[t].inputs[e]].input_to.push(t);for(let e=0;e<this.operators[t].outputs.length;e++)this.tensors[this.operators[t].outputs[e]].output_of=t}}expand(){for(let l=0;l<this.operators.length;l++)if(0==this.operators[l].func&&this.operators[l].network){var t=this.operators[l].network;t.expand();var e=this.operators[l],n=this.operators.length;this.operators[l]=t.operators[0];for(let e=1;e<t.operators.length;e++)this.add_operator(t.operators[e]);for(let a=0;a<t.tensors.length;a++){var o=a;if(t.input_tensors.includes(a)){var s=t.input_tensors.indexOf(a);o=e.inputs[s]}else if(t.output_tensors.includes(a)){s=t.output_tensors.indexOf(a);o=e.outputs[s]}else this.add_tensor(t.tensors[a]),o=this.tensors.length-1;for(let e=0;e<t.tensors[a].input_to.length;e++){var r=t.tensors[a].input_to[e],i=t.operators[r].inputs.indexOf(a);0==r?this.operators[l].inputs[i]=o:this.operators[r+n-1].inputs[i]=o}if(t.tensors[a].output_of||0==t.tensors[a].output_of){r=t.tensors[a].output_of,i=t.operators[r].outputs.indexOf(a);0==r?this.operators[l].outputs[i]=o:this.operators[r+n-1].outputs[i]=o}}this.update_tensors()}}to_string(){var t="";t+="Tensors: \n";for(let e=0;e<this.tensors.length;e++){t+="\t"+e+":\n",this.tensors[e].form&&(t+="\t\tform: "+String(this.tensors[e].form)+"\n"),t+="\t\tinput_to:\n";for(let n=0;n<this.tensors[e].input_to.length;n++)t+="\t\t\t"+this.tensors[e].input_to[n]+"\n";t+="\t\toutput_of\n",t+="\t\t\t"+this.tensors[e].output_of+"\n"}t+="Operators: \n";for(let e=0;e<this.operators.length;e++){t+="\t"+e+":\n",t+="\t\tinputs:\n";for(let n=0;n<this.operators[e].inputs.length;n++)t+="\t\t\t"+this.operators[e].inputs[n]+"\n";t+="\t\toutputs:\n";for(let n=0;n<this.operators[e].outputs.length;n++)t+="\t\t\t"+this.operators[e].outputs[n]+"\n";t+="\t\tfunc: "+this.operators[e].func+"\n"}t+="input_tensors:\n";for(let e=0;e<this.input_tensors.length;e++)t+="\t"+this.input_tensors[e]+"\n";t+="param_tensors:\n";for(let e=0;e<this.param_tensors.length;e++)t+="\t"+this.param_tensors[e]+"\n";t+="output_tensors:\n";for(let e=0;e<this.output_tensors.length;e++)t+="\t"+this.output_tensors[e]+"\n";return t}}class mt{constructor(t,e){this.scalar=!1,this.live=t||!1,this.form=e||[],this.x=0,this.y=0,this.tx=0,this.ty=0,this.selected=!1,this.input_to=[],this.output_of=null}calc_size(){if(this.form){var t=1;for(let e=0;e<this.form.length;e++)t*=this.form[e];this.size=t}else this.size=0;return this.size}}class xt{constructor(t,e,n){this.name=t,this.num_inputs=e,this.type=n}calc_form(t,e){var n=[];switch(console.log(this.name),this.name){case"identity":case"add":case"subtract":case"scale":case"softmax":case"hardmax":case"ReLU":case"LeakyReLU":case"Leaky to ReLU":n.push(e.tensors[t[0]].form);break;case"full":var o=e.tensors[t[0]].form,s=e.tensors[t[1]].form,r=1;for(let t=0;t<o.length;t++)r*=o[t];var i=1;for(let t=0;t<s.length;t++)i*=s[t];(l=[]).push(i/r),n.push(l);break;case"amass":case"max":(l=[]).push(1),n.push(l);break;case"convolution":o=e.tensors[t[0]].form,s=e.tensors[t[1]].form;var l=[];for(let t=0;t<o.length;t++)s.length<=t?l.push(o[t]):l.push(o[t]-s[t]+1);n.push(l);break;case"squared dist":n.push([1])}return n}}class gt{constructor(t){this.inputs=[],this.outputs=[],this.func=t,this.size=null,this.network=null,this.highlighted=!1}clone(){var t=new gt(this.func);return t.inputs=[...this.inputs],t.outputs=[...this.outputs],t.network=this.network,t}}var vt=Array.apply(null,Array(12)).map((function(){}));vt[0]=new xt("abstraction",0,1),vt[1]=new xt("identity",1,0),vt[2]=new xt("add",2,1),vt[3]=new xt("subtract",2,1),vt[4]=new xt("scale",2,2),vt[5]=new xt("Fully Connected",2,2),vt[6]=new xt("amass",1,0),vt[7]=new xt("Softmax",1,0),vt[8]=new xt("hardmax",1,0),vt[9]=new xt("max",1,0),vt[10]=new xt("Convolution",2,2),vt[11]=new xt("squared dist",2,1),vt[12]=new xt("PReLU",1,0),vt[13]=new xt("LeakyReLU",1,0),vt[14]=new xt("Leaky to ReLU",1,0);const _t=10;function yt(t,e,n){var o={x_min:-9999,x_max:1e4,y_min:-9999,y_max:1e4},s=t.operators[e],r=!1;for(let t=0;t<s.outputs.length;t++)s.outputs[t]==n&&(r=!0);var i=0;if(!r)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==n&&(i=t);var l=t.tensors[s.inputs[0]],a=t.tensors[s.inputs[1]],u=t.tensors[s.outputs[0]];if(0==vt[s.func].type&&(r?o.x_min=l.x+40:o.x_max=u.x-40),1==vt[s.func].type)if(r){var c=Math.max(l.x,a.x);o.x_min=c+40}else 1==i?(o.x_max=u.x-40,o.y_max=l.y-20):(o.x_max=u.x-40,o.y_min=a.y+20);if(2==vt[s.func].type)if(r)o.x_min=a.x+20,o.y_min=a.y+20;else if(1==i){o.x_min=l.x+20,o.x_max=u.x-20;var p=Math.min(u.y,l.y);o.y_max=p-20}else o.x_max=a.x-20,o.y_min=a.y+20;return o}function $t(t,e,n,o,s,r=!1){t.tensors[e].x=n,t.tensors[e].y=o,r&&(t.tensors[e].x-=(t.tensors[e].x+_t)%20-_t,t.tensors[e].y-=(t.tensors[e].y+_t)%20-_t);for(let n=0;n<t.tensors[e].input_to.length;n++){let o=yt(t,t.tensors[e].input_to[n],e);s.x_min=Math.max(s.x_min,o.x_min),s.x_max=Math.min(s.x_max,o.x_max),s.y_min=Math.max(s.y_min,o.y_min),s.y_max=Math.min(s.y_max,o.y_max)}if(null!=t.tensors[e].output_of){let n=yt(t,t.tensors[e].output_of,e);s.x_min=Math.max(s.x_min,n.x_min),s.x_max=Math.min(s.x_max,n.x_max),s.y_min=Math.max(s.y_min,n.y_min),s.y_max=Math.min(s.y_max,n.y_max)}t.tensors[e].x<s.x_min&&(t.tensors[e].x=s.x_min),t.tensors[e].x>s.x_max&&(t.tensors[e].x=s.x_max),t.tensors[e].y<s.y_min&&(t.tensors[e].y=s.y_min),t.tensors[e].y>s.y_max&&(t.tensors[e].y=s.y_max)}function bt(t,e,n){var o=[];for(let s=0;s<t.tensors.length;s++)t.tensors[s].x-_t<e&&t.tensors[s].x+_t>e&&t.tensors[s].y-_t<n&&t.tensors[s].y+_t>n&&o.push(s);return o}function wt(t,e,n){var o=[];for(let f=0;f<t.operators.length;f++){var s=t.operators[f],r=t.tensors[s.inputs[0]],i=t.tensors[s.inputs[1]],l=t.tensors[s.outputs[0]],a=1e6,u=-1e6,c=1e6,p=-1e6;0==vt[s.func].type&&(a=r.x+_t,u=l.x-_t,c=Math.min(r.y-_t,l.y-_t),p=Math.max(r.y+_t,l.y+_t)),2==vt[s.func].type&&(a=r.x+_t,u=l.x-_t,c=i.y+_t,p=Math.max(r.y+_t,l.y+_t)),1==vt[s.func].type&&(a=Math.min(r.x+_t,i.x+_t),u=l.x-_t,c=i.y-_t,p=r.y+_t),a<e&&u>e&&c<n&&p>n&&o.push(f)}return o}function kt(t,e){var n=t.tensors[e],o=n.input_to;n.input_to=[];for(let a=0;a<o.length;a++){var s=o[a],r=t.operators[s],i=t.tensors.length;t.add_tensor(new mt(!0));var l=r.inputs.findIndex((t=>t==e));r.inputs[l]=i,t.tensors[i].x=n.x+20,t.tensors[i].y=n.y,t.tensors[i].input_to=[s],t.tensors[i].output_of=null,t.tensors[i].live=!1}n.x-=20,n.live=!1}function Ct(t,e,n){if(t.tensors[e].live&&t.tensors[n].live)return void console.log("Both merged tensors are live, so don't do anything.");let o=t.tensors[e],s=t.tensors[n],r=n,i=e;if(null!=o.output_of&&null==s.output_of);else{if(null==s.output_of||null!=o.output_of)return void console.log("Error merging, only one input must have an output");var l=s;s=o,o=l,r=e,i=n}if(console.log(o.output_of,s.input_to),o.output_of==s.input_to)return void console.log("Error merging, these are input and output of the same function");let a=t.operators[s.input_to].inputs.indexOf(r);t.operators[s.input_to].inputs[a]=i,o.input_to=s.input_to,o.live=o.live||s.live,t.tensors[i].selected=!0,function(t,e){for(let n=0;n<t.operators.length;n++){for(let o=0;o<t.operators[n].inputs.length;o++)t.operators[n].inputs[o]>e&&(t.operators[n].inputs[o]-=1);for(let o=0;o<t.operators[n].outputs.length;o++)t.operators[n].outputs[o]>e&&(t.operators[n].outputs[o]-=1)}t.tensors.splice(e,1)}(t,r)}var Tt=0,St=0,Lt=0,zt=0;const Pt=10;var Et=!1,Mt=-1,Ot=-1,At=0,Ft=0,Rt=0,It=0,Dt=[],Ut=!1,Nt=!0;function Bt(){return Dt[0]}function Gt(t,e=40,n=60){Vt();let o=new gt;o.func=t;var s=Dt[0].tensors.length;0==vt[t].type&&(Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+0].x=e+0,Dt[0].tensors[s+0].y=n+0,Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+1].x=e+60,Dt[0].tensors[s+1].y=n+0,o.inputs=[s+0],o.outputs=[s+1]),2==vt[t].type&&(Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+0].x=e+0,Dt[0].tensors[s+0].y=n+40,Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+1].x=e+40,Dt[0].tensors[s+1].y=n+0,Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+2].x=e+80,Dt[0].tensors[s+2].y=n+40,o.inputs=[s+0,s+1],o.outputs=[s+2]),1==vt[t].type&&(Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+0].x=e+0,Dt[0].tensors[s+0].y=n+40,Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+1].x=e+0,Dt[0].tensors[s+1].y=n+0,Dt[0].add_tensor(new mt(!1)),Dt[0].tensors[s+2].x=e+60,Dt[0].tensors[s+2].y=n+20,o.inputs=[s+0,s+1],o.outputs=[s+2]),Dt[0].add_operator(o)}CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,o,s){return n<0&&(t-=n=-n),o<0&&(e-=o=-o),n<2*s&&(s=n/2),o<2*s&&(s=o/2),this.beginPath(),this.moveTo(t+s,e),this.arcTo(t+n,e,t+n,e+o,s),this.arcTo(t+n,e+o,t,e+o,s),this.arcTo(t,e+o,t,e,s),this.arcTo(t,e,t+n,e,s),this.closePath(),this},Dt.push(new dt);var Wt=[],jt=new class{constructor(t,e,n,o,s=!1){this.x=t,this.y=e,this.w=n,this.h=o,this.bool=s}press(t,e){this.x<=t&&this.x+this.w>=t&&this.y<=e&&this.y+this.h>=e&&(this.bool=!this.bool)}}(10,10,20,20,!0);Wt.push(jt);var qt=new Image;function Ht(t,e,n,o){console.log(Dt[0].operators[t]),function(t,e){var n=Dt[0].tensors[t];n.form=e,n.calc_size(),n.live=!0;for(let e=0;e<n.input_to.length;e++)Yt(n.input_to[e],t,!0);null!=n.output_of&&Yt(n.output_of,t,!1)}(e=n?Dt[0].operators[t].inputs[e]:Dt[0].operators[t].outputs[e],o)}function Yt(t,e,n){if(null!=t){var o=0,s=Dt[0].operators[t];if(Dt[0].tensors[e],n)for(let t=0;t<s.inputs.length;t++)s.inputs[t]==e&&(o=t);else for(let t=0;t<s.outputs.length;t++)s.outputs[t]==e&&(o=t);var r,i=Dt[0].tensors[s.inputs[0]],l=Dt[0].tensors[s.outputs[0]];switch(s.inputs.length>1&&(r=Dt[0].tensors[s.inputs[1]]),s.func){case 5:if(n)if(0==o){if(l.live)r.form=[i.size,l.size],r.live=!0,r.calc_size(),Yt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}}else{i.form=[r.form[0]],i.live=!0,i.calc_size(),Yt(i.output_of,s.inputs[0],!1),l.form=[r.form[1]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}else i.live&&(r.form=[i.size,l.size],r.live=!0,r.calc_size(),Yt(r.output_of,s.inputs[1],!1));break;case 7:if(n){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Yt(i.output_of,s.inputs[0],!1);break;case 10:if(n){if(0==o){if(l.live)r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Yt(r.output_of,s.inputs[1],!1);else if(r.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}}else if(l.live)i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Yt(r.output_of,s.inputs[1],!1);else if(i.live){l.form=[i.form[0]-r.form[0]+1,i.form[1]-r.form[1]+1,r.form[2]],l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}}else i.live?(r.form=[i.form[0]-l.form[0]+1,i.form[1]-l.form[1]+1,l.form[2]],r.live=!0,r.calc_size(),Yt(r.output_of,s.inputs[1],!1)):r.live&&(i.form=[r.form[0]+l.form[0]-1,r.form[1]+l.form[1]-1],i.live=!0,i.calc_size(),Yt(r.output_of,s.inputs[1],!1));break;case 12:if(n){l.form=i.form,l.live=!0,l.calc_size();for(let t=0;t<l.input_to;t++)Yt(l.input_to[t],s.outputs[0],!0)}else i.form=l.form,i.live=!0,i.calc_size(),Yt(i.output_of,s.inputs[0],!1)}}}function Xt(){(Tt=document.getElementById("gui_canvas")).addEventListener("mousedown",ne,!1),Tt.addEventListener("mousemove",oe,!1),Tt.addEventListener("mouseup",ee,!1),Tt.addEventListener("dblclick",te,!1),St=Tt.getContext("2d"),Tt.width=Tt.getBoundingClientRect().width,Tt.height=Tt.getBoundingClientRect().height,Lt=Tt.width,zt=Tt.height,window.requestAnimationFrame(Qt)}function Jt(t,e){let n=t.tensors[e];var o=!1,s=!1;for(let n=0;n<t.input_tensors.length;n++)t.input_tensors[n]==e&&(o=!0);for(let n=0;n<t.output_tensors.length;n++)t.output_tensors[n]==e&&(s=!0);n.live?(St.fillStyle=o?"#F2C8A6":s?"#A6D0F2":"#FFFFFF",St.lineWidth=1,St.setLineDash([]),St.strokeStyle="black"):(St.fillStyle="rgba(255,255,255,0)",St.lineWidth=1,St.setLineDash([3,4]),St.strokeStyle="Grey",St.strokeStyle=o?"#F2C8A6":s?"#A6D0F2":"#888888"),St.beginPath(),n.scalar?St.rect(n.x-5,n.y-5,10,10):St.rect(n.x-Pt,n.y-Pt,20,20),St.fill(),St.stroke(),n.selected&&(St.fillStyle="rgba(255,255,255,0)",St.lineWidth=1,St.strokeStyle="#5dd2f0",St.setLineDash([]),St.beginPath(),St.roundRect(n.x-15,n.y-15,30,30,2),St.stroke())}function Kt(t,e){let n,o,s,r,i=t.operators[e],l=St.createLinearGradient(0,0,Lt,0);i.highlighted?(l.addColorStop(0,"#E5914D"),l.addColorStop(1,"#4DA1E5")):(l.addColorStop(0,"#DE7521"),l.addColorStop(1,"#218ADE")),St.fillStyle=l;switch(i.func){case 0:case 1:case 4:case 6:case 8:case 9:case 11:break;case 2:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],St.beginPath(),St.moveTo(r.x-Pt,r.y-Pt),St.lineTo(r.x-Pt,r.y+Pt),St.lineTo(o.x+Pt,o.y+Pt),St.lineTo(o.x+Pt,o.y-Pt),St.closePath(),St.fill(),St.beginPath(),St.moveTo(r.x-Pt,r.y-Pt),St.lineTo(r.x-Pt,r.y+Pt),St.lineTo(s.x+Pt,s.y+Pt),St.lineTo(s.x+Pt,s.y-Pt),St.closePath(),St.fill();break;case 3:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]];break;case 5:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],St.beginPath(),St.moveTo(r.x-Pt,r.y-Pt),St.lineTo(r.x-Pt,r.y+Pt),St.lineTo(o.x+Pt,o.y+Pt),St.lineTo(o.x+Pt,o.y-Pt),St.lineTo(s.x-Pt,s.y+Pt),St.lineTo(s.x+Pt,s.y+Pt),St.closePath(),St.fill();break;case 7:n=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],St.beginPath(),St.moveTo(r.x-Pt,r.y-5),St.lineTo(r.x-Pt,r.y+5),St.lineTo(n.x+Pt,n.y+Pt),St.lineTo(n.x+Pt,n.y-Pt),St.closePath(),St.fill();break;case 10:o=t.tensors[i.inputs[0]],s=t.tensors[i.inputs[1]],r=t.tensors[i.outputs[0]],St.beginPath(),St.moveTo(o.x+Pt,o.y-Pt+4),St.lineTo(o.x+Pt,o.y-Pt),St.lineTo(s.x-Pt,s.y+Pt),St.lineTo(s.x+Pt,s.y+Pt),St.lineTo(r.x-Pt,r.y-Pt),St.lineTo(r.x-Pt,r.y-Pt+4);for(let t=1;t<5;t+=2)St.lineTo(o.x+Pt,o.y-Pt+4*t),St.lineTo(o.x+Pt,o.y-Pt+4*(t+1)),St.lineTo(r.x-Pt,r.y-Pt+4*(t+1)),St.lineTo(r.x-Pt,r.y-Pt+4*(t+2));St.lineTo(o.x+Pt,o.y+Pt),St.closePath(),St.fill();break;case 12:n=t.tensors[i.inputs[0]],r=t.tensors[i.outputs[0]],St.beginPath(),St.moveTo(n.x+Pt,n.y+Pt),St.lineTo(n.x+Pt,n.y-Pt),St.lineTo(r.x-Pt,r.y-Pt),St.lineTo(r.x-Pt,r.y-Pt+4);for(let t=1;t<5;t+=2)St.lineTo((r.x+n.x)/2,(r.y+n.y)/2-Pt+4*t),St.lineTo((r.x+n.x)/2,(r.y+n.y)/2-Pt+4*(t+1)),St.lineTo(r.x-Pt,r.y-Pt+4*(t+1)),St.lineTo(r.x-Pt,r.y-Pt+4*(t+2));St.closePath(),St.fill();break;default:console.log("Invalid operator types")}}function Qt(){if(Tt.width=Tt.getBoundingClientRect().width,Tt.height=Tt.getBoundingClientRect().height,Lt=Tt.width,zt=Tt.height,Nt){St.beginPath();for(let t=-10;t<Lt;t+=20)St.moveTo(t,0),St.lineTo(t,zt);for(let t=-10;t<zt;t+=20)St.moveTo(0,t),St.lineTo(Lt,t);St.lineWidth=.5,St.setLineDash([1,4]),St.strokeStyle="Grey",St.closePath(),St.stroke()}for(let t=0;t<Dt[0].operators.length;t++)Kt(Dt[0],t);for(let e=0;e<Dt[0].tensors.length;e++)if(Jt(Dt[0],e),Dt[0].tensors[e].selected&&!Ut&&Et){var t={x_min:20,x_max:Tt.width-20-Tt.width%20,y_min:20,y_max:Tt.height-20-(Tt.height-20)%Pt*2};$t(Dt[0],e,Dt[0].tensors[e].tx+At-Rt,Dt[0].tensors[e].ty+Ft-It,t,Nt)}Ut&&(St.fillStyle="rgba(255,255,255,0)",St.lineWidth=1,St.strokeStyle="#5dd2f0",St.setLineDash([3,2]),St.beginPath(),St.roundRect(Rt,It,At-Rt,Ft-It,2),St.stroke()),Nt=Wt[0].bool;try{St.drawImage(qt,Wt[0].x,Wt[0].y,Wt[0].w,Wt[0].h)}catch(t){St.fillStyle="black",St.fillRect(Wt[0].x,Wt[0].y,Wt[0].w,Wt[0].h)}window.requestAnimationFrame(Qt)}function Vt(){for(let t=0;t<Dt[0].tensors.length;t++)Dt[0].tensors[t].selected=!1}function Zt(t){for(let t=0;t<Dt[0].operators.length;t++)Dt[0].operators[t].highlighted=!1;for(let e=0;e<t.length;e++)Dt[0].operators[t[e]].highlighted=!0}function te(t){let e=bt(Dt[0],At,Ft);for(let t=0;t<e.length;t++){var n=e[t],o=Dt[0].tensors[n];null==o.output_of||0==o.input_to.length||(console.log("Unmerge"),kt(Dt[0],n))}}function ee(t){Ut=!1;for(let t=0;t<Dt[0].tensors.length;t++)for(let o=0;o<Dt[0].tensors.length;o++)if(o!=t){var e=Dt[0].tensors[t],n=Dt[0].tensors[o];Math.abs(e.x-n.x)<20&&Math.abs(e.y-n.y)<20&&Ct(Dt[0],t,o)}Et=!1,Mt=-1,Ot=-1;let o=bt(Dt[0],At,Ft);o.length>=2&&Ct(Dt[0],o[0],o[1])}function ne(t){Et=!0;for(let t=0;t<Dt[0].tensors.length;t++)Dt[0].tensors[t].tx=Dt[0].tensors[t].x,Dt[0].tensors[t].ty=Dt[0].tensors[t].y;Rt=At,It=Ft;let e=bt(Dt[0],At,Ft);0!=e.length&&(Mt=e[0],Dt[0].tensors[Mt].selected=!0,console.log(Dt[0].tensors[Mt].form));let n=wt(Dt[0],At,Ft);if(0!=n.length&&0==e.length){Ot=n[0];var o=Dt[0].operators[Ot];for(let t=0;t<o.inputs.length;t++)Dt[0].tensors[o.inputs[t]].selected=!0;for(let t=0;t<o.outputs.length;t++)Dt[0].tensors[o.outputs[t]].selected=!0}0==e.length&&0==n.length&&(Ut=!0,Vt());for(let t=0;t<Wt.length;t++)Wt[t].press(At,Ft)}function oe(t){if(t.offsetX?(At=t.offsetX,Ft=t.offsetY):t.layerX&&(At=t.layerX,Ft=t.layerY),Ut)for(let t=0;t<Dt[0].tensors.length;t++){var e=Dt[0].tensors[t];Math.abs(e.x-(Rt+At)/2)<Math.abs(Rt-(Rt+At)/2)&&Math.abs(e.y-(It+Ft)/2)<Math.abs(It-(It+Ft)/2)?e.selected=!0:e.selected=!1}}function se(t,e,n){const o=t.slice();return o[75]=e[n],o}function re(t){let e,n,s,r,i,l,u,d,x,_,$=t[75].operator_name+"";function k(){return t[31](t[75])}function T(){return t[33](t[75])}return{c(){e=m("li"),n=m("p"),s=m("img"),i=g($),l=v(),a(s.src,r=ze)||b(s,"src",r),b(s,"alt","Softmax List icon."),C(s,"max-height","20px"),C(s,"margin-right","10px"),b(e,"id",u="list_item"+t[75].id),b(e,"class",d=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")},m(o,r){f(o,e,r),p(e,n),p(n,s),p(n,i),p(e,l),x||(_=[y(e,"click",k),y(e,"focus",Ae),y(e,"mouseleave",t[32]),y(e,"mouseover",T)],x=!0)},p(n,o){t=n,1&o[0]&&$!==($=t[75].operator_name+"")&&w(i,$),1&o[0]&&u!==(u="list_item"+t[75].id)&&b(e,"id",u),1&o[0]&&d!==(d=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")&&b(e,"class",d)},d(t){t&&h(e),x=!1,o(_)}}}function ie(t){let e,n,s,r,i,l,u,d,x,_,$=t[75].operator_name+"";function k(){return t[28](t[75])}function T(){return t[30](t[75])}return{c(){e=m("li"),n=m("p"),s=m("img"),i=g($),d=v(),a(s.src,r=Le)||b(s,"src",r),b(s,"alt","PReLU List icon."),C(s,"max-height","20px"),C(s,"margin-right","10px"),b(e,"id",l="list_item"+t[75].id),b(e,"class",u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")},m(o,r){f(o,e,r),p(e,n),p(n,s),p(n,i),f(o,d,r),x||(_=[y(e,"click",k),y(e,"focus",Oe),y(e,"mouseleave",t[29]),y(e,"mouseover",T)],x=!0)},p(n,o){t=n,1&o[0]&&$!==($=t[75].operator_name+"")&&w(i,$),1&o[0]&&l!==(l="list_item"+t[75].id)&&b(e,"id",l),1&o[0]&&u!==(u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")&&b(e,"class",u)},d(t){t&&h(e),t&&h(d),x=!1,o(_)}}}function le(t){let e,n,s,r,i,l,u,d,x,_,$=t[75].operator_name+"";function k(){return t[25](t[75])}function T(){return t[27](t[75])}return{c(){e=m("li"),n=m("p"),s=m("img"),i=g($),d=v(),a(s.src,r=Se)||b(s,"src",r),b(s,"alt","Convolution List icon."),C(s,"max-height","20px"),C(s,"margin-right","10px"),b(e,"id",l="list_item"+t[75].id),b(e,"class",u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")},m(o,r){f(o,e,r),p(e,n),p(n,s),p(n,i),f(o,d,r),x||(_=[y(e,"click",k),y(e,"focus",Me),y(e,"mouseleave",t[26]),y(e,"mouseover",T)],x=!0)},p(n,o){t=n,1&o[0]&&$!==($=t[75].operator_name+"")&&w(i,$),1&o[0]&&l!==(l="list_item"+t[75].id)&&b(e,"id",l),1&o[0]&&u!==(u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")&&b(e,"class",u)},d(t){t&&h(e),t&&h(d),x=!1,o(_)}}}function ae(t){let e,n,s,r,i,l,u,d,x,_,$=t[75].operator_name+"";function k(){return t[22](t[75])}function T(){return t[24](t[75])}return{c(){e=m("li"),n=m("p"),s=m("img"),i=g($),d=v(),a(s.src,r=Te)||b(s,"src",r),b(s,"alt","Fully Connected List icon."),C(s,"max-height","20px"),C(s,"margin-right","10px"),b(e,"id",l="list_item"+t[75].id),b(e,"class",u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")},m(o,r){f(o,e,r),p(e,n),p(n,s),p(n,i),f(o,d,r),x||(_=[y(e,"click",k),y(e,"focus",Ee),y(e,"mouseleave",t[23]),y(e,"mouseover",T)],x=!0)},p(n,o){t=n,1&o[0]&&$!==($=t[75].operator_name+"")&&w(i,$),1&o[0]&&l!==(l="list_item"+t[75].id)&&b(e,"id",l),1&o[0]&&u!==(u=c("true"===t[75].hovered?"hovered":"")+" svelte-1xxfpsm")&&b(e,"class",u)},d(t){t&&h(e),t&&h(d),x=!1,o(_)}}}function ue(t){let e;function n(t,e){return"Fully Connected"===t[75].operator_type?ae:"Convolution"===t[75].operator_type?le:"PReLU"===t[75].operator_type?ie:"Softmax"===t[75].operator_type?re:void 0}let o=n(t),s=o&&o(t);return{c(){s&&s.c(),e=_()},m(t,n){s&&s.m(t,n),f(t,e,n)},p(t,r){o===(o=n(t))&&s?s.p(t,r):(s&&s.d(1),s=o&&o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s&&s.d(t),t&&h(e)}}}function ce(e){let n,s,r,i,l,a;return{c(){n=g("Are you sure?\n\t\t\n\t\t"),s=m("button"),s.textContent="Yes",r=v(),i=m("button"),i.textContent="No",b(s,"class","option"),b(i,"class","option")},m(t,o){f(t,n,o),f(t,s,o),f(t,r,o),f(t,i,o),l||(a=[y(s,"click",e[6]),y(i,"click",e[35])],l=!0)},p:t,d(t){t&&h(n),t&&h(s),t&&h(r),t&&h(i),l=!1,o(a)}}}function pe(e){let n,s,r,i,l,a,u,c,p;return{c(){n=g("How would you like to download your neural network? "),s=m("br"),r=m("br"),i=v(),l=m("button"),l.textContent="Pytorch",a=v(),u=m("button"),u.textContent="Tensorflow",b(l,"class","option"),b(u,"class","option")},m(t,o){f(t,n,o),f(t,s,o),f(t,r,o),f(t,i,o),f(t,l,o),f(t,a,o),f(t,u,o),c||(p=[y(l,"click",Pe),y(u,"click",e[16])],c=!0)},p:t,d(t){t&&h(n),t&&h(s),t&&h(r),t&&h(i),t&&h(l),t&&h(a),t&&h(u),c=!1,o(p)}}}function fe(t){let e;return{c(){e=m("h1"),e.textContent="Tutorial"},m(t,n){f(t,e,n)},d(t){t&&h(e)}}}function he(t){let e,n,o;return{c(){e=m("h1"),e.textContent="About Neurula",n=v(),o=m("p"),o.innerHTML="Machine learning can appear obscure and complicated, posing a barrier to people who are unfamiliar but interested.<br/>\n\t\t\tHowever, designing working neural networks doesnâ€™t have to be difficult.<br/><br/>\n\t\t\tThat&#39;s why we created Neurula: a website in which you can drag and drop blocks allowing you to design\n\t\t\tneural networks in an intuitive fashion. Once you design a network, you can download auto-generated code that implements\n\t\t\tthat network in tensorflow or pytorch. <br/><br/> \n\t\t\t<i>Made for UCSC&#39;s CSE 115A Spring 2022</i><br/> \n\t\t\t<i>Developers: Nicolas Ayala, Anish Pahilajani, Kat Negrete, Mahesh Vegiraju, and Alexandra Hutchins</i>"},m(t,s){f(t,e,s),f(t,n,s),f(t,o,s)},d(t){t&&h(e),t&&h(n),t&&h(o)}}}function de(e){let n,s,r,i,l,a,u,c,p,d,x,_,$;return{c(){n=g("Add Operator: "),s=m("br"),r=m("br"),i=v(),l=m("button"),l.textContent="Dense",a=v(),u=m("button"),u.textContent="Convolutional",c=v(),p=m("button"),p.textContent="PReLU",d=v(),x=m("button"),x.textContent="Softmax",b(l,"class","option"),b(u,"class","option"),b(p,"class","option"),b(x,"class","option")},m(t,o){f(t,n,o),f(t,s,o),f(t,r,o),f(t,i,o),f(t,l,o),f(t,a,o),f(t,u,o),f(t,c,o),f(t,p,o),f(t,d,o),f(t,x,o),_||($=[y(l,"click",e[10]),y(u,"click",e[11]),y(p,"click",e[12]),y(x,"click",e[13])],_=!0)},p:t,d(t){t&&h(n),t&&h(s),t&&h(r),t&&h(i),t&&h(l),t&&h(a),t&&h(u),t&&h(c),t&&h(p),t&&h(d),t&&h(x),_=!1,o($)}}}function me(t){let e,n,s,r,i,l,a,u,c,d,x,_,w,C,T,S,L,z,E,M,O,A,F,I,D,U,N,B,G;function J(e){t[36](e)}let K={label:"",design:"I"};function Q(e){t[37](e)}void 0!==t[1]&&(K.value=t[1]),i=new ht({props:K}),P.push((()=>q(i,"value",J)));let V={label:"",design:"O"};return void 0!==t[2]&&(V.value=t[2]),u=new ht({props:V}),P.push((()=>q(u,"value",Q))),{c(){e=g("Edit Fully Connected Operator: "),n=m("br"),s=m("br"),r=v(),H(i.$$.fragment),a=v(),H(u.$$.fragment),d=v(),x=m("form"),_=m("label"),_.textContent="Input:",w=v(),C=m("input"),T=m("br"),S=v(),L=m("label"),L.textContent="Output:",z=v(),E=m("input"),M=m("br"),O=v(),A=m("label"),A.textContent="Parameter Shape:",F=v(),I=m("input"),D=v(),U=m("button"),U.textContent="Submit",b(_,"for","name"),b(C,"id","name"),b(C,"type","text"),b(L,"for","name"),b(E,"id","name"),b(E,"type","text"),b(A,"for","name"),b(I,"id","name"),b(I,"type","text"),b(U,"class","submit")},m(o,l){f(o,e,l),f(o,n,l),f(o,s,l),f(o,r,l),Y(i,o,l),f(o,a,l),Y(u,o,l),f(o,d,l),f(o,x,l),p(x,_),p(x,w),p(x,C),k(C,t[3]),p(x,T),p(x,S),p(x,L),p(x,z),p(x,E),k(E,t[4]),p(x,M),p(x,O),p(x,A),p(x,F),p(x,I),k(I,t[5]),f(o,D,l),f(o,U,l),N=!0,B||(G=[y(C,"input",t[38]),y(C,"change",t[39]),y(E,"input",t[40]),y(E,"change",t[41]),y(I,"input",t[42]),y(I,"change",t[43]),y(x,"submit",$(t[14])),y(U,"click",t[44])],B=!0)},p(t,e){const n={};!l&&2&e[0]&&(l=!0,n.value=t[1],R((()=>l=!1))),i.$set(n);const o={};!c&&4&e[0]&&(c=!0,o.value=t[2],R((()=>c=!1))),u.$set(o),8&e[0]&&C.value!==t[3]&&k(C,t[3]),16&e[0]&&E.value!==t[4]&&k(E,t[4]),32&e[0]&&I.value!==t[5]&&k(I,t[5])},i(t){N||(W(i.$$.fragment,t),W(u.$$.fragment,t),N=!0)},o(t){j(i.$$.fragment,t),j(u.$$.fragment,t),N=!1},d(t){t&&h(e),t&&h(n),t&&h(s),t&&h(r),X(i,t),t&&h(a),X(u,t),t&&h(d),t&&h(x),t&&h(D),t&&h(U),B=!1,o(G)}}}function xe(t){let e,n,s,r,i,l,a,u,c,d,x,_,w,C,T,S,L,z,E,M,O,A,F,I,D,U,N,B,G;function J(e){t[45](e)}let K={label:"",design:"I"};function Q(e){t[46](e)}void 0!==t[1]&&(K.value=t[1]),i=new ht({props:K}),P.push((()=>q(i,"value",J)));let V={label:"",design:"O"};return void 0!==t[2]&&(V.value=t[2]),u=new ht({props:V}),P.push((()=>q(u,"value",Q))),{c(){e=g("Edit Convolution Operator: "),n=m("br"),s=m("br"),r=v(),H(i.$$.fragment),a=v(),H(u.$$.fragment),d=v(),x=m("form"),_=m("label"),_.textContent="Input:",w=v(),C=m("input"),T=m("br"),S=v(),L=m("label"),L.textContent="Output:",z=v(),E=m("input"),M=m("br"),O=v(),A=m("label"),A.textContent="Kernel Shape:",F=v(),I=m("input"),D=v(),U=m("button"),U.textContent="Submit",b(_,"for","name"),b(C,"id","name"),b(C,"type","text"),b(L,"for","name"),b(E,"id","name"),b(E,"type","text"),b(A,"for","name"),b(I,"id","name"),b(I,"type","text"),b(U,"class","submit")},m(o,l){f(o,e,l),f(o,n,l),f(o,s,l),f(o,r,l),Y(i,o,l),f(o,a,l),Y(u,o,l),f(o,d,l),f(o,x,l),p(x,_),p(x,w),p(x,C),k(C,t[3]),p(x,T),p(x,S),p(x,L),p(x,z),p(x,E),k(E,t[4]),p(x,M),p(x,O),p(x,A),p(x,F),p(x,I),k(I,t[5]),f(o,D,l),f(o,U,l),N=!0,B||(G=[y(C,"input",t[47]),y(C,"change",t[48]),y(E,"input",t[49]),y(E,"change",t[50]),y(I,"input",t[51]),y(I,"change",t[52]),y(x,"submit",$(t[14])),y(U,"click",t[53])],B=!0)},p(t,e){const n={};!l&&2&e[0]&&(l=!0,n.value=t[1],R((()=>l=!1))),i.$set(n);const o={};!c&&4&e[0]&&(c=!0,o.value=t[2],R((()=>c=!1))),u.$set(o),8&e[0]&&C.value!==t[3]&&k(C,t[3]),16&e[0]&&E.value!==t[4]&&k(E,t[4]),32&e[0]&&I.value!==t[5]&&k(I,t[5])},i(t){N||(W(i.$$.fragment,t),W(u.$$.fragment,t),N=!0)},o(t){j(i.$$.fragment,t),j(u.$$.fragment,t),N=!1},d(t){t&&h(e),t&&h(n),t&&h(s),t&&h(r),X(i,t),t&&h(a),X(u,t),t&&h(d),t&&h(x),t&&h(D),t&&h(U),B=!1,o(G)}}}function ge(t){let e,n,s,r,i,l,a,u,c,d,x,_,w,C,T,S,L,z,E,M;function O(e){t[54](e)}let A={label:"",design:"I"};function F(e){t[55](e)}void 0!==t[1]&&(A.value=t[1]),i=new ht({props:A}),P.push((()=>q(i,"value",O)));let I={label:"",design:"O"};return void 0!==t[2]&&(I.value=t[2]),u=new ht({props:I}),P.push((()=>q(u,"value",F))),{c(){e=g("Edit PReLU Operator: "),n=m("br"),s=m("br"),r=v(),H(i.$$.fragment),a=v(),H(u.$$.fragment),d=v(),x=m("form"),_=m("label"),_.textContent="Input/Output size:",w=v(),C=m("input"),T=m("br"),S=v(),L=m("button"),L.textContent="Submit",b(_,"for","name"),b(C,"id","name"),b(C,"type","text"),b(L,"class","submit")},m(o,l){f(o,e,l),f(o,n,l),f(o,s,l),f(o,r,l),Y(i,o,l),f(o,a,l),Y(u,o,l),f(o,d,l),f(o,x,l),p(x,_),p(x,w),p(x,C),k(C,t[3]),p(x,T),f(o,S,l),f(o,L,l),z=!0,E||(M=[y(C,"input",t[56]),y(C,"change",t[57]),y(x,"submit",$(t[14])),y(L,"click",t[58])],E=!0)},p(t,e){const n={};!l&&2&e[0]&&(l=!0,n.value=t[1],R((()=>l=!1))),i.$set(n);const o={};!c&&4&e[0]&&(c=!0,o.value=t[2],R((()=>c=!1))),u.$set(o),8&e[0]&&C.value!==t[3]&&k(C,t[3])},i(t){z||(W(i.$$.fragment,t),W(u.$$.fragment,t),z=!0)},o(t){j(i.$$.fragment,t),j(u.$$.fragment,t),z=!1},d(t){t&&h(e),t&&h(n),t&&h(s),t&&h(r),X(i,t),t&&h(a),X(u,t),t&&h(d),t&&h(x),t&&h(S),t&&h(L),E=!1,o(M)}}}function ve(t){let e,n,s,r,i,l,a,u,c,d,x,_,w,C,T,S,L,z,E,M;function O(e){t[59](e)}let A={label:"",design:"I"};function F(e){t[60](e)}void 0!==t[1]&&(A.value=t[1]),i=new ht({props:A}),P.push((()=>q(i,"value",O)));let I={label:"",design:"O"};return void 0!==t[2]&&(I.value=t[2]),u=new ht({props:I}),P.push((()=>q(u,"value",F))),{c(){e=g("Edit Softmax Operator: "),n=m("br"),s=m("br"),r=v(),H(i.$$.fragment),a=v(),H(u.$$.fragment),d=v(),x=m("form"),_=m("label"),_.textContent="Input/Output size:",w=v(),C=m("input"),T=m("br"),S=v(),L=m("button"),L.textContent="Submit",b(_,"for","name"),b(C,"id","name"),b(C,"type","text"),b(L,"class","submit")},m(o,l){f(o,e,l),f(o,n,l),f(o,s,l),f(o,r,l),Y(i,o,l),f(o,a,l),Y(u,o,l),f(o,d,l),f(o,x,l),p(x,_),p(x,w),p(x,C),k(C,t[3]),p(x,T),f(o,S,l),f(o,L,l),z=!0,E||(M=[y(C,"input",t[61]),y(C,"change",t[62]),y(x,"submit",$(t[14])),y(L,"click",t[63])],E=!0)},p(t,e){const n={};!l&&2&e[0]&&(l=!0,n.value=t[1],R((()=>l=!1))),i.$set(n);const o={};!c&&4&e[0]&&(c=!0,o.value=t[2],R((()=>c=!1))),u.$set(o),8&e[0]&&C.value!==t[3]&&k(C,t[3])},i(t){z||(W(i.$$.fragment,t),W(u.$$.fragment,t),z=!0)},o(t){j(i.$$.fragment,t),j(u.$$.fragment,t),z=!1},d(t){t&&h(e),t&&h(n),t&&h(s),t&&h(r),X(i,t),t&&h(a),X(u,t),t&&h(d),t&&h(x),t&&h(S),t&&h(L),E=!1,o(M)}}}function _e(t){let e,n,s,r,i,l,u,c,x,_,$,w,k,T,S,L,z,P,E,M,O,A,F,R,I,D,U,N,B,G,q,J,K,Q,V,Z,tt,et,nt,st,rt,it,lt,at,ut,ct,pt,ft,ht,dt,mt,xt,gt,vt,_t,yt,$t,bt,wt,kt,Ct,Tt,St,Lt,zt,Pt,Et,Mt,Ot,At=t[0],Ft=[];for(let e=0;e<At.length;e+=1)Ft[e]=ue(se(t,At,e));return dt=new ot({props:{id:"clear",$$slots:{default:[ce]},$$scope:{ctx:t}}}),xt=new ot({props:{id:"generate",$$slots:{default:[pe]},$$scope:{ctx:t}}}),vt=new ot({props:{id:"tutorial",$$slots:{default:[fe]},$$scope:{ctx:t}}}),yt=new ot({props:{id:"about",$$slots:{default:[he]},$$scope:{ctx:t}}}),bt=new ot({props:{id:"add_operator",$$slots:{default:[de]},$$scope:{ctx:t}}}),kt=new ot({props:{id:"edit_fully_connected",$$slots:{default:[me]},$$scope:{ctx:t}}}),Tt=new ot({props:{id:"edit_convolution",$$slots:{default:[xe]},$$scope:{ctx:t}}}),Lt=new ot({props:{id:"edit_prelu",$$slots:{default:[ge]},$$scope:{ctx:t}}}),Pt=new ot({props:{id:"edit_softmax",$$slots:{default:[ve]},$$scope:{ctx:t}}}),{c(){e=m("main"),n=m("nav"),s=m("div"),r=m("ul"),i=m("li"),l=m("a"),u=m("img"),x=v(),_=m("div"),$=m("ul"),w=m("li"),k=m("a"),T=g("Clear Canvas"),S=v(),L=m("li"),z=m("a"),P=g("Generate Code"),E=v(),M=m("li"),O=m("a"),A=g("?"),F=v(),R=m("div"),I=m("div"),D=m("div"),U=m("a"),N=g("+ add operator"),B=v(),G=m("div"),q=m("div"),q.innerHTML='<p id="layers-title" class="svelte-1xxfpsm">Added Layers:</p>',J=v();for(let t=0;t<Ft.length;t+=1)Ft[t].c();K=v(),Q=m("div"),Q.innerHTML='<canvas id="gui_canvas" class="svelte-1xxfpsm"></canvas>',V=v(),Z=m("div"),tt=m("a"),et=g("About"),nt=v(),st=m("a"),rt=m("img"),lt=g("Github"),at=v(),ut=m("a"),ct=m("img"),ft=g("Feedback"),ht=v(),H(dt.$$.fragment),mt=v(),H(xt.$$.fragment),gt=v(),H(vt.$$.fragment),_t=v(),H(yt.$$.fragment),$t=v(),H(bt.$$.fragment),wt=v(),H(kt.$$.fragment),Ct=v(),H(Tt.$$.fragment),St=v(),H(Lt.$$.fragment),zt=v(),H(Pt.$$.fragment),a(u.src,c=ye)||b(u,"src",c),b(u,"alt","Neurula logo."),C(u,"max-height","60px"),b(l,"href",$e),b(l,"class","svelte-1xxfpsm"),b(i,"class","svelte-1xxfpsm"),b(r,"class","navbar-list svelte-1xxfpsm"),b(s,"class","left svelte-1xxfpsm"),b(k,"href",void 0),b(k,"class","nav-button svelte-1xxfpsm"),b(w,"class","svelte-1xxfpsm"),b(z,"href",void 0),b(z,"class","nav-button svelte-1xxfpsm"),b(L,"class","svelte-1xxfpsm"),b(O,"href",void 0),b(O,"class","nav-button svelte-1xxfpsm"),b(M,"class","svelte-1xxfpsm"),b($,"class","navbar-list svelte-1xxfpsm"),b(_,"class","right svelte-1xxfpsm"),b(n,"class","svelte-1xxfpsm"),b(U,"href",void 0),b(U,"class","nav-button svelte-1xxfpsm"),b(D,"id","toolbar_title"),b(D,"class","svelte-1xxfpsm"),b(q,"id","toolbar_add_operator"),b(q,"class","svelte-1xxfpsm"),b(G,"id","toolbar_list"),b(G,"class","svelte-1xxfpsm"),b(I,"id","toolbar"),b(I,"class","svelte-1xxfpsm"),b(Q,"id","canvas_container"),b(Q,"class","svelte-1xxfpsm"),b(R,"id","workspace"),b(R,"class","svelte-1xxfpsm"),b(tt,"href",void 0),b(tt,"class","footer-button svelte-1xxfpsm"),b(rt,"id","git"),a(rt.src,it=be)||b(rt,"src",it),b(rt,"alt","Github logo."),C(rt,"max-height","20px"),b(rt,"class","svelte-1xxfpsm"),b(st,"href",ke),b(st,"class","svelte-1xxfpsm"),b(ct,"id","git"),a(ct.src,pt=we)||b(ct,"src",pt),b(ct,"alt","Google Forms logo."),C(ct,"max-height","20px"),b(ct,"class","svelte-1xxfpsm"),b(ut,"href",Ce),b(ut,"class","svelte-1xxfpsm"),b(Z,"class","footer svelte-1xxfpsm"),b(e,"class","svelte-1xxfpsm")},m(o,a){f(o,e,a),p(e,n),p(n,s),p(s,r),p(r,i),p(i,l),p(l,u),p(n,x),p(n,_),p(_,$),p($,w),p(w,k),p(k,T),p($,S),p($,L),p(L,z),p(z,P),p($,E),p($,M),p(M,O),p(O,A),p(e,F),p(e,R),p(R,I),p(I,D),p(D,U),p(U,N),p(I,B),p(I,G),p(G,q),p(G,J);for(let t=0;t<Ft.length;t+=1)Ft[t].m(G,null);p(R,K),p(R,Q),p(e,V),p(e,Z),p(Z,tt),p(tt,et),p(Z,nt),p(Z,st),p(st,rt),p(st,lt),p(Z,at),p(Z,ut),p(ut,ct),p(ut,ft),p(e,ht),Y(dt,e,null),p(e,mt),Y(xt,e,null),p(e,gt),Y(vt,e,null),p(e,_t),Y(yt,e,null),p(e,$t),Y(bt,e,null),p(e,wt),Y(kt,e,null),p(e,Ct),Y(Tt,e,null),p(e,St),Y(Lt,e,null),p(e,zt),Y(Pt,e,null),Et=!0,Mt||(Ot=[y(k,"click",t[18]),y(z,"click",t[19]),y(O,"click",t[20]),y(U,"click",t[21]),y(tt,"click",t[34])],Mt=!0)},p(t,e){if(513&e[0]){let n;for(At=t[0],n=0;n<At.length;n+=1){const o=se(t,At,n);Ft[n]?Ft[n].p(o,e):(Ft[n]=ue(o),Ft[n].c(),Ft[n].m(G,null))}for(;n<Ft.length;n+=1)Ft[n].d(1);Ft.length=At.length}const n={};65536&e[2]&&(n.$$scope={dirty:e,ctx:t}),dt.$set(n);const o={};65536&e[2]&&(o.$$scope={dirty:e,ctx:t}),xt.$set(o);const s={};65536&e[2]&&(s.$$scope={dirty:e,ctx:t}),vt.$set(s);const r={};65536&e[2]&&(r.$$scope={dirty:e,ctx:t}),yt.$set(r);const i={};65536&e[2]&&(i.$$scope={dirty:e,ctx:t}),bt.$set(i);const l={};62&e[0]|65536&e[2]&&(l.$$scope={dirty:e,ctx:t}),kt.$set(l);const a={};62&e[0]|65536&e[2]&&(a.$$scope={dirty:e,ctx:t}),Tt.$set(a);const u={};14&e[0]|65536&e[2]&&(u.$$scope={dirty:e,ctx:t}),Lt.$set(u);const c={};14&e[0]|65536&e[2]&&(c.$$scope={dirty:e,ctx:t}),Pt.$set(c)},i(t){Et||(W(dt.$$.fragment,t),W(xt.$$.fragment,t),W(vt.$$.fragment,t),W(yt.$$.fragment,t),W(bt.$$.fragment,t),W(kt.$$.fragment,t),W(Tt.$$.fragment,t),W(Lt.$$.fragment,t),W(Pt.$$.fragment,t),Et=!0)},o(t){j(dt.$$.fragment,t),j(xt.$$.fragment,t),j(vt.$$.fragment,t),j(yt.$$.fragment,t),j(bt.$$.fragment,t),j(kt.$$.fragment,t),j(Tt.$$.fragment,t),j(Lt.$$.fragment,t),j(Pt.$$.fragment,t),Et=!1},d(t){t&&h(e),d(Ft,t),X(dt),X(xt),X(vt),X(yt),X(bt),X(kt),X(Tt),X(Lt),X(Pt),Mt=!1,o(Ot)}}}qt.src="grid_icon.png";let ye="./transparent_bar_logo.png",$e="http://127.0.0.1:8000",be="https://cdn-icons-png.flaticon.com/512/25/25231.png",we="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Google_Forms_logo_%282014-2020%29.svg/640px-Google_Forms_logo_%282014-2020%29.svg.png",ke="https://github.com/genicos/nn_gui",Ce="https://docs.google.com/forms/d/e/1FAIpQLSdMQYYT9P0cp507dm4xyCr9cvJJ9RUwAcFF21pWBhWLWyqPng/viewform?usp=sf_link",Te="./Fully_Connected.png",Se="./Convolution.png",Le="./PReLU.png",ze="./Softmax.png";function Pe(t){console.log("PyTorch code generated!")}const Ee=()=>{},Me=()=>{},Oe=()=>{},Ae=()=>{};function Fe(t,e,n){brython(),console.log("Check this shit out:");var o=tf_code_generator([[1,24,0,2,"(3,3)"],[4,0,0,0,"(2,2)"],[1,36,0,2,"(3,3)"],[4,0,0,0,"(2,2)"],[0,784,128,2],[0,128,10,2]]);console.log(o);var s,r=pytorch_code_generator([[1,24,0,2,"(3,3)"],[4,0,0,0,"(2,2)"],[1,36,0,2,"(3,3)"],[4,0,0,0,"(2,2)"],[0,784,128,2],[0,128,10,2]]);console.log(r),s=()=>{Xt(),document.getElementById("gui_canvas").addEventListener("mousemove",l,!1)},L().$$.on_mount.push(s);var i=[];function l(t){var e=wt(Dt[0],At,Ft);for(let t=0;t<i.length;t++)n(0,i[t].hovered="false",i);for(let t=0;t<e.length;t++)n(0,i[e[t]].hovered="true",i)}function a(){var t=Dt[0].operators.map((t=>vt[t.func].name)),e=[];if(0!=t.length){e.push(t[0]);for(let n=1;n<t.length;n++){var o=0;for(let e=0;e<n;e++)t[n]==t[e]&&o++;var s=t[n];o>0&&(s+=" "+String(o+1)),e.push(s)}for(let o=0;o<e.length;o++)n(0,i[o]={operator_type:t[o],operator_name:e[o],id:o,highlighted:"T"},i)}}function u(t){var e="";switch(t){case 0:e=x;break;case 1:e=v;break;case 2:e=g}if(console.log(e),null!=e){var n=[],o="";for(let t=0;t<e.length;t++)","==e[t]?(n.push(parseInt(o)),o=""):o+=e[t];switch(n.push(parseInt(o)),console.log(n),t){case 0:Ht(h,0,!0,n);break;case 1:Ht(h,1,!0,n);break;case 2:Ht(h,0,!1,n)}c()}}function c(){var t=Bt(),e="";for(let n=0;n<t.tensors[t.operators[h].inputs[0]].form.length;n++)n>0&&(e+=","),e+=String(t.tensors[t.operators[h].inputs[0]].form[n]);n(3,x=e);var o="";for(let e=0;e<t.tensors[t.operators[h].outputs[0]].form.length;e++)e>0&&(o+=","),o+=String(t.tensors[t.operators[h].outputs[0]].form[e]);if(n(4,g=o),!(t.operators[h].inputs.length<2)){var s="";for(let e=0;e<t.tensors[t.operators[h].inputs[1]].form.length;e++)e>0&&(s+=","),s+=String(t.tensors[t.operators[h].inputs[1]].form[e]);n(5,v=s)}}function p(){var t,e;"off"===d&&(t=h,(e=Dt[0]).input_tensors.push(e.operators[t].inputs[0])),"off"===m&&function(t){var e=Dt[0];e.output_tensors.push(e.operators[t].outputs[0])}(h)}function f(t){h=t,n(1,d="on"),n(2,m="on"),c()}let h,d,m,x,g,v,_=[{id:1,name:"Dense"},{id:2,name:"Convolutional"},{id:3,name:"PReLU"},{id:4,name:"Softmax"}],y="";function $(t){}function b(t){}return[i,d,m,x,g,v,function(){tt("clear").close(1),Dt[0]=new dt},u,p,f,function(){Gt(5),tt("add_operator").close(1),a()},function(){Gt(10),tt("add_operator").close(1),a()},function(){Gt(12),tt("add_operator").close(1),a()},function(){Gt(7),tt("add_operator").close(1),a()},()=>{_=[..._,{id:Math.random(),operator_type:y}],y=""},$,function(){const t=Bt();console.log(t);const e=t.tensors,n=t.operators,o=[];for(let t=0;t<n.length;t++){const s=[];5==n[t].func?s.push(0):10==n[t].func?s.push(1):12==n[t].func?s.push(2):7==n[t].func?s.push(3):console.log("Operator type not implemented yet"),s.push(e[n[t].inputs[0]].form[0]),s.push(e[n[t].outputs[0]].form[0]),5!=n[t].func&&10!=n[t].func||7!=n[e[n[t].outputs[0]].output_of]&&12!=n[e[n[t].outputs[0]].output_of]?s.push(5):7==n[e[n.outputs[0]]].func?s.push(7):s.push(12),o.push(s)}console.log(o)},b,()=>tt("clear").open($),()=>tt("generate").open(b),()=>tt("tutorial").open(),()=>tt("add_operator").open(),t=>{tt("edit_fully_connected").open(),f(t.id)},()=>{Zt([])},t=>{Zt([t.id])},t=>{tt("edit_convolution").open(),f(t.id)},()=>{Zt([])},t=>{Zt([t.id])},t=>{tt("edit_prelu").open(),f(t.id)},()=>{Zt([])},t=>{Zt([t.id])},t=>{tt("edit_softmax").open(),f(t.id)},()=>{Zt([])},t=>{Zt([t.id])},()=>tt("about").open(),()=>tt("clear").close(0),function(t){d=t,n(1,d)},function(t){m=t,n(2,m)},function(){x=this.value,n(3,x)},()=>{u(0)},function(){g=this.value,n(4,g)},()=>{u(2)},function(){v=this.value,n(5,v)},()=>{u(1)},()=>{tt("edit_fully_connected").close(),p()},function(t){d=t,n(1,d)},function(t){m=t,n(2,m)},function(){x=this.value,n(3,x)},()=>{u(0)},function(){g=this.value,n(4,g)},()=>{u(2)},function(){v=this.value,n(5,v)},()=>{u(1)},()=>{tt("edit_convolution").close(),p()},function(t){d=t,n(1,d)},function(t){m=t,n(2,m)},function(){x=this.value,n(3,x)},()=>{u(0)},()=>{tt("edit_prelu").close(),p()},function(t){d=t,n(1,d)},function(t){m=t,n(2,m)},function(){x=this.value,n(3,x)},()=>{u(0)},()=>{tt("edit_softmax").close(),p()}]}return new class extends Q{constructor(t){super(),K(this,t,Fe,_e,r,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
